<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VitaFlow | –ú–æ–±–∏–ª—å–Ω—ã–π PWA –¢—Ä–µ–∫–µ—Ä</title>
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏–∫–æ–Ω–æ–∫ Lucide -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —à—Ä–∏—Ñ—Ç–∞ Inter –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ü–≤–µ—Ç–∞ -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        /* 1. –î–µ—Ñ–æ–ª—Ç–Ω–∞—è (–¢–µ–º–Ω–∞—è/–ó–µ–ª–µ–Ω–∞—è) –¢–µ–º–∞ */
        :root {
            /* –ë–∞–∑–æ–≤—ã–µ —Ü–≤–µ—Ç–∞ */
            --color-primary: #4CAF50; /* –ó–µ–ª–µ–Ω—ã–π - –†–æ—Å—Ç, –°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ */
            --color-accent: #FF7043; /* –û—Ä–∞–Ω–∂–µ–≤—ã–π - –≠–Ω–µ—Ä–≥–∏—è, –°—Ç—Ä–∏–∫ */
            --color-bg-dark: #0B0D11; 
            --color-bg-light: #1A1C20; 
            --color-text-base: #FFFFFF; 
            --color-text-secondary: rgba(255, 255, 255, 0.7);
            --color-card-bg-base: rgba(255, 255, 255, 0.08);
            --color-card-border: rgba(255, 255, 255, 0.15); 
            --bg-gradient: radial-gradient(at 0% 0%, var(--color-bg-light) 0%, var(--color-bg-dark) 80%);
        }

        /* 2. –°–∏–Ω—è—è –¢–µ–º–∞ (–ö–ª–∞—Å—Å .blue-theme) - –¢–µ–º–Ω–∞—è, —Å–ø–æ–∫–æ–π–Ω–∞—è */
        .blue-theme {
            --color-primary: #58C9F8; /* –ì–æ–ª—É–±–æ–π */
            --color-accent: #FF7043; /* –û—Ä–∞–Ω–∂–µ–≤—ã–π –æ—Å—Ç–∞–µ—Ç—Å—è –¥–ª—è XP */
            --color-bg-dark: #0F172A; /* –°–∏–Ω–µ-—Ç–µ–º–Ω—ã–π —Ñ–æ–Ω */
            --color-bg-light: #1E293B; /* –°–≤–µ—Ç–ª–µ–µ –¥–ª—è –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞ */
            --bg-gradient: radial-gradient(at 0% 0%, var(--color-bg-light) 0%, var(--color-bg-dark) 80%);
        }

        /* 3. –†–æ–∑–æ–≤–∞—è –¢–µ–º–∞ (–ö–ª–∞—Å—Å .pink-theme) - –°–≤–µ—Ç–ª–∞—è, –≤—ã—Ä–∞–∂–µ–Ω–Ω—ã–π –≥–ª–∞–∑–æ–º–æ—Ä—Ñ–∏–∑–º */
        .pink-theme {
            /* –°–≤–µ—Ç–ª—ã–µ —Ü–≤–µ—Ç–∞ */
            --color-primary: #D81B60; /* –Ø—Ä–∫–∏–π –º–∞–ª–∏–Ω–æ–≤—ã–π */
            --color-accent: #8E24AA; /* –§–∏–æ–ª–µ—Ç–æ–≤—ã–π –∞–∫—Ü–µ–Ω—Ç */
            --color-bg-dark: #F0F4F8; /* –°–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω */
            --color-bg-light: #FFFFFF; /* –ë–µ–ª—ã–π –¥–ª—è –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞ */
            --color-text-base: #333333; /* –¢–µ–º–Ω—ã–π —Ç–µ–∫—Å—Ç */
            --color-text-secondary: rgba(51, 51, 51, 0.7);
            
            /* –ü–ª–∞—à–∫–∏ —Å —Ä–æ–∑–æ–≤—ã–º –æ—Ç—Ç–µ–Ω–∫–æ–º –∏ —Å–∏–ª—å–Ω—ã–º —Å—Ç–µ–∫–ª–æ–º */
            --color-card-bg-base: rgba(255, 192, 203, 0.4); /* –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ä–æ–∑–æ–≤—ã–π */
            --color-card-border: rgba(255, 255, 255, 0.6); /* –ë–æ–ª–µ–µ –≤—ã—Ä–∞–∂–µ–Ω–Ω–∞—è –±–µ–ª–∞—è –æ–±–≤–æ–¥–∫–∞ */
            --bg-gradient: radial-gradient(at 100% 100%, var(--color-bg-light) 0%, var(--color-bg-dark) 80%); /* –ì—Ä–∞–¥–∏–µ–Ω—Ç —Å–Ω–∏–∑—É */
        }
        
        /* 4. –û–±—â–∏–π —Å—Ç–∏–ª—å */
        body {
            font-family: 'Inter', sans-serif;
            background: var(--color-bg-dark);
            color: var(--color-text-base);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            background-image: var(--bg-gradient);
            background-size: 400% 400%;
            animation: gradient-shift 10s ease infinite;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞ */
        @keyframes gradient-shift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* 5. –ì–ª–∞–∑–æ–º–æ—Ä—Ñ–∏–∑–º (Glassmorphism) */
        .glass-card {
            background-color: var(--color-card-bg-base); /* –§–æ–Ω –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π */
            backdrop-filter: blur(14px); /* –£—Å–∏–ª–µ–Ω–Ω–æ–µ —Ä–∞–∑–º—ã—Ç–∏–µ */
            border: 1px solid var(--color-card-border); /* –¢–æ–Ω–∫–∞—è –æ–±–≤–æ–¥–∫–∞ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15); /* –ú—è–≥–∫–∞—è —Ç–µ–Ω—å */
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        .glass-card:hover {
            background-color: var(--color-card-bg-base); /* –§–æ–Ω –ø—Ä–∏ —Ö–æ–≤–µ—Ä–µ */
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.25);
            transform: translateY(-2px);
        }
        .glass-text-secondary {
            color: var(--color-text-secondary);
        }
        
        /* 6. –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞–¥–∞—é—â–∏—Ö –∑–≤–µ–∑–¥ */
        /* –ó–≤–µ–∑–¥—ã –¥–µ–ª–∞–µ–º –±–µ–ª—ã–º–∏, –æ–Ω–∏ –≤–∏–¥–Ω—ã –Ω–∞ –ª—é–±–æ–º —Ñ–æ–Ω–µ */
        .star {
            position: absolute;
            width: 1px;
            height: 1px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            pointer-events: none;
            opacity: 0;
            animation: falling linear infinite;
        }

        @keyframes falling {
            0% { transform: translateY(-5vh) translateX(-10vw); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(105vh) translateX(10vw); opacity: 0; }
        }

        /* 7. –ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –≤–æ–¥—ã (Conic Gradient) */
        .water-progress-circle {
            --progress-angle: 0deg;
            width: 120px;
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            border-radius: 50%;
            /* –¶–≤–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –±–µ—Ä–µ—Ç—Å—è –∏–∑ --color-primary */
            background: conic-gradient(
                var(--color-primary) 0%,
                var(--color-primary) var(--progress-angle),
                var(--color-card-bg-base) var(--progress-angle), /* –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–æ–Ω –ø–ª–∞—à–∫–∏ –∫–∞–∫ –Ω–µ–ø—Ä–æ–≥—Ä–µ—Å—Å */
                var(--color-card-bg-base) 360deg
            );
            transition: background 0.7s ease-in-out;
        }

        .water-inner-circle {
            /* w-11/12 h-11/12 rounded-full glass-card - –≤–∑—è—Ç–æ –∏–∑ Tailwind */
            width: 91.666667%; /* 11/12 */
            height: 91.666667%; /* 11/12 */
            border-radius: 9999px;
            background-color: var(--color-card-bg-base); 
            backdrop-filter: blur(14px);
            border: none;
            box-shadow: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            /* –ò–°–ü–†–ê–í–õ–ï–ù–û: –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ç–µ–º–Ω—ã–π —Ñ–æ–Ω –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ "–¥—ã—Ä–∫–∏" */
            background-color: rgba(11, 13, 17, 0.6); /* –¢–µ–º–Ω—ã–π —Ñ–æ–Ω 0.6 –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏ */
            backdrop-filter: blur(10px);
        }
        /* –°–ø–µ—Ü–∏—Ñ–∏–∫–∞ –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã: –¥–µ–ª–∞–µ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫—Ä—É–≥ —Å–≤–µ—Ç–ª–µ–µ (–±–µ–ª—ã–π) –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–µ–µ */
        .pink-theme .water-inner-circle {
            background-color: rgba(255, 255, 255, 0.6); /* –ë–µ–ª—ã–π —Ñ–æ–Ω 0.6 –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏ */
        }

        
        /* 8. –ö–∞—Å—Ç–æ–º–Ω—ã–π Bottom Nav Bar —Å –≤—ã—Å—Ç—É–ø–æ–º */
        .bottom-nav {
            height: 64px;
        }
        .nav-item-plus {
            width: 56px;
            height: 56px;
            bottom: 16px;
            /* –ì—Ä–∞–¥–∏–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞ */
            background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
            box-shadow: 0 4px 15px var(--color-primary);
        }
        
        .nav-item-active {
            color: var(--color-primary);
        }
    </style>
</head>
<body class="max-w-md mx-auto relative p-0 overflow-y-auto">

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø–∞–¥–∞—é—â–∏—Ö –∑–≤–µ–∑–¥ -->
    <div id="star-container" class="fixed inset-0 w-full h-full pointer-events-none z-0 overflow-hidden"></div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç (z-10) -->
    <div class="relative z-10 min-h-screen pb-[80px]">

        <!-- -------------------- -->
        <!-- 1. –•–µ–¥–µ—Ä (–í–µ—Ä—Ö–Ω–∏–π –±–ª–æ–∫) -->
        <!-- -------------------- -->
        <header class="sticky top-0 p-4 pt-6 flex justify-between items-center glass-card z-20 mx-2 mt-2 rounded-xl">
            <div class="flex items-center space-x-3">
                <div class="font-extrabold text-xl tracking-wider" style="color: var(--color-primary);">VitaFlow</div>
                <div id="user-streak" class="text-xs font-semibold px-2 py-0.5 rounded-full border transition duration-300 transform active:scale-95" style="border-color: var(--color-accent); color: var(--color-accent);">
                    üî• 0 –°—Ç—Ä–∏–∫
                </div>
            </div>
            <div class="flex items-center space-x-3">
                <div class="text-right glass-text-secondary">
                    <div class="text-sm font-medium">–£—Ä–æ–≤–µ–Ω—å</div>
                    <div id="user-level" class="text-lg font-bold" style="color: var(--color-accent);">1</div>
                </div>
                <img src="https://placehold.co/40x40/4CAF50/FFFFFF?text=A" alt="–ê–≤–∞—Ç–∞—Ä" class="w-10 h-10 rounded-full border-2 cursor-pointer transition duration-300 hover:scale-105 active:scale-95" style="border-color: var(--color-primary);">
            </div>
        </header>

        <!-- -------------------- -->
        <!-- 2. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –í–∫–ª–∞–¥–æ–∫ -->
        <!-- -------------------- -->
        <main id="tab-content" class="p-2 space-y-4">
            
            <!-- –í–∫–ª–∞–¥–∫–∞: Home/–î–∞—à–±–æ—Ä–¥ (active by default) -->
            <section id="tab-home" class="tab-view space-y-4">
                
                <!-- –ë–ª–æ–∫ XP –∏ –£—Ä–æ–≤–Ω—è -->
                <div class="glass-card p-3 rounded-xl transform active:scale-[0.98] cursor-pointer" onclick="alertMessage('–ü—Ä–æ–≥—Ä–µ—Å—Å XP. –î–æ—Å—Ç–∏–≥–∞–π—Ç–µ —Ü–µ–ª–µ–π, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å –æ–ø—ã—Ç!')">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-sm font-medium glass-text-secondary">–¢–µ–∫—É—â–∏–π –£—Ä–æ–≤–µ–Ω—å: <span id="xp-level-display" class="font-bold" style="color: var(--color-primary);">1</span></span>
                        <span class="text-xs glass-text-secondary"><span id="xp-current">0</span>/<span id="xp-next-level">1000</span> XP</span>
                    </div>
                    <div class="relative h-2 rounded-full overflow-hidden" style="background-color: var(--color-card-border);">
                        <div id="xp-progress-bar" class="absolute top-0 left-0 h-full rounded-full transition-all duration-700 ease-in-out" style="width: 0%; background: linear-gradient(90deg, var(--color-accent), var(--color-primary));"></div>
                    </div>
                </div>

                <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –í–æ–¥—ã -->
                <div class="glass-card p-4 rounded-xl space-y-3">
                    <h2 class="text-xl font-semibold flex items-center" style="color: var(--color-primary);">
                        <i data-lucide="droplet" class="w-5 h-5 mr-2" style="color: var(--color-primary);"></i> –¢—Ä–µ–∫–∏–Ω–≥ –í–æ–¥—ã
                    </h2>
                    <div class="flex flex-col items-center">
                        <div id="water-progress-circle" class="water-progress-circle" style="--progress-angle: 0deg;">
                            <div class="water-inner-circle">
                                <span id="water-progress-text" class="text-2xl font-extrabold" style="color: var(--color-primary);">0%</span>
                                <span class="text-xs glass-text-secondary">–í—ã–ø–∏—Ç–æ</span>
                            </div>
                        </div>
                        <div class="text-lg mt-3">
                            <span id="water-current-amount">0</span> –º–ª / <span id="water-goal">2000</span> –º–ª
                        </div>
                    </div>
                    
                    <!-- –ö–Ω–æ–ø–∫–∏ –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
                    <div class="flex justify-around pt-2">
                        <button onclick="addWater(250)" class="glass-card px-4 py-2 rounded-full text-sm font-medium hover:bg-white/10 active:scale-95 transition-all glass-text-secondary">
                            +250 –º–ª
                        </button>
                        <button onclick="addWater(500)" class="glass-card px-4 py-2 rounded-full text-sm font-medium hover:bg-white/10 active:scale-95 transition-all glass-text-secondary">
                            +500 –º–ª
                        </button>
                        <button onclick="addWater(750)" class="glass-card px-4 py-2 rounded-full text-sm font-medium hover:bg-white/10 active:scale-95 transition-all glass-text-secondary">
                            +750 –º–ª
                        </button>
                    </div>
                </div>
                
                <!-- –ú–∏–Ω–∏-–ø–ª–∏—Ç–∫–∏ –ó–¥–æ—Ä–æ–≤—å—è (–®–∞–≥–∏, –ü—É–ª—å—Å, –°–æ–Ω) -->
                <div class="grid grid-cols-3 gap-3">
                    <div class="glass-card p-3 rounded-xl text-center transform active:scale-[0.9] cursor-pointer">
                        <i data-lucide="footprints" class="w-6 h-6 mx-auto text-blue-400"></i>
                        <div class="text-lg font-bold mt-1" id="steps-amount">3 456</div>
                        <div class="text-xs glass-text-secondary">–®–∞–≥–æ–≤</div>
                    </div>
                    <div class="glass-card p-3 rounded-xl text-center transform active:scale-[0.9] cursor-pointer">
                        <i data-lucide="heart-pulse" class="w-6 h-6 mx-auto text-red-400"></i>
                        <div class="text-lg font-bold mt-1" id="pulse-amount">72</div>
                        <div class="text-xs glass-text-secondary">–ü—É–ª—å—Å</div>
                    </div>
                    <div class="glass-card p-3 rounded-xl text-center transform active:scale-[0.9] cursor-pointer">
                        <i data-lucide="moon" class="w-6 h-6 mx-auto text-indigo-400"></i>
                        <div class="text-lg font-bold mt-1" id="sleep-amount">6 —á 45–º</div>
                        <div class="text-xs glass-text-secondary">–°–æ–Ω</div>
                    </div>
                </div>
                
                <!-- –ì—Ä–∞—Ñ–∏–∫ –í–æ–¥—ã (–ü—Ä–æ—Å—Ç–æ–π placeholder) -->
                <div class="glass-card p-4 rounded-xl">
                    <h2 class="text-xl font-semibold mb-3 glass-text-secondary">–ù–µ–¥–µ–ª—å–Ω—ã–π –¢—Ä–µ–∫–∏–Ω–≥ –í–æ–¥—ã</h2>
                    <div id="water-graph-placeholder" class="h-40 w-full flex items-end justify-around p-2 rounded-lg relative" style="background-color: var(--color-card-border);">
                        <!-- –°–∏–º—É–ª—è—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–∞ -->
                        <div class="text-xs glass-text-secondary absolute top-2 right-2">–ì—Ä–∞—Ñ–∏–∫ –±—É–¥–µ—Ç –∑–¥–µ—Å—å</div>
                        <div class="w-1/6 h-[50%] rounded-t-full transition-all duration-500" style="height: 50%; background-color: var(--color-primary);"></div>
                        <div class="w-1/6 h-[80%] rounded-t-full transition-all duration-500" style="height: 80%; background-color: var(--color-primary);"></div>
                        <div class="w-1/6 h-[30%] rounded-t-full transition-all duration-500" style="height: 30%; background-color: var(--color-primary);"></div>
                        <div class="w-1/6 h-[90%] rounded-t-full transition-all duration-500" style="height: 90%; background-color: var(--color-primary);"></div>
                    </div>
                </div>

            </section>
            
            <!-- –í–∫–ª–∞–¥–∫–∞: –ü–æ–∏—Å–∫ (Search) -->
            <section id="tab-search" class="tab-view hidden space-y-4">
                <h1 class="text-2xl font-bold">–ü–æ–∏—Å–∫</h1>
                <input type="text" placeholder="–ò—Å–∫–∞—Ç—å –ø—Ä–∏–≤—ã—á–∫–∏, —Ä–µ—Ü–µ–ø—Ç—ã, —Å—Ç–∞—Ç—å–∏..." class="w-full p-3 rounded-xl glass-card border-none bg-white/10 focus:ring-2 focus:outline-none placeholder-white/70" style="--tw-ring-color: var(--color-primary);">
                
                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ -->
                <div class="space-y-3">
                    <div class="glass-card p-4 rounded-xl flex items-center space-x-3">
                        <i data-lucide="book-open" class="w-5 h-5" style="color: var(--color-accent);"></i>
                        <div>
                            <div class="font-medium">–≠–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è –ó–¥–æ—Ä–æ–≤—å—è: –°–æ–Ω</div>
                            <div class="text-sm glass-text-secondary">–ò–∑—É—á–∏—Ç–µ, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è, —á—Ç–æ–±—ã –ø–æ–≤—ã—Å–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å XP.</div>
                        </div>
                    </div>
                    <div class="glass-card p-4 rounded-xl flex items-center space-x-3">
                        <i data-lucide="soup" class="w-5 h-5" style="color: var(--color-primary);"></i>
                        <div>
                            <div class="font-medium">–†–µ—Ü–µ–ø—Ç—ã –Ω–∞ 1500 –∫–∫–∞–ª (–∑–∞–≥–ª—É—à–∫–∞)</div>
                            <div class="text-sm glass-text-secondary">–ü–æ–¥–±–æ—Ä–∫–∞ –¥–ª—è —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞—Ü–∏–æ–Ω–∞ —Å –ø–æ–¥—Å—á–µ—Ç–æ–º –ö–ë–ñ–£.</div>
                        </div>
                    </div>
                    <div class="glass-card p-4 rounded-xl flex items-center space-x-3">
                        <i data-lucide="compass" class="w-5 h-5 text-purple-400"></i>
                        <div>
                            <div class="font-medium">–õ–µ–Ω—Ç–∞ "–í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ"</div>
                            <div class="text-sm glass-text-secondary">–°–º–æ—Ç—Ä–∏—Ç–µ, –∫–∞–∫ –¥—Ä—É–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–æ—Å—Ç–∏–≥–∞—é—Ç —Å–≤–æ–∏—Ö —Ü–µ–ª–µ–π.</div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- –í–∫–ª–∞–¥–∫–∞: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Notifications) -->
            <section id="tab-notifications" class="tab-view hidden space-y-4">
                <h1 class="text-2xl font-bold">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h1>
                <div class="space-y-3">
                    <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ (–ë–µ–π–¥–∂) -->
                    <div class="glass-card p-4 rounded-xl flex items-center space-x-3 border-4" style="border-color: var(--color-accent);">
                        <i data-lucide="trophy" class="w-7 h-7 text-yellow-400"></i>
                        <div>
                            <div class="font-medium" style="color: var(--color-accent);">–ù–æ–≤—ã–π –£—Ä–æ–≤–µ–Ω—å!</div>
                            <div class="text-sm glass-text-secondary">–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –£—Ä–æ–≤–Ω—è 2 –∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ "–ú–æ–¥—É–ª—å –ø—Ä–∏–≤—ã—á–µ–∫".</div>
                            <div class="text-xs mt-1 glass-text-secondary">01.01.2025, 14:30</div>
                        </div>
                    </div>
                    <!-- –û–±—ã—á–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–ó–∞–≥–ª—É—à–∫–∞) -->
                    <div class="glass-card p-4 rounded-xl flex items-center space-x-3">
                        <i data-lucide="bell" class="w-5 h-5" style="color: var(--color-primary);"></i>
                        <div>
                            <div class="font-medium">–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ</div>
                            <div class="text-sm glass-text-secondary">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor.</div>
                            <div class="text-xs mt-1 glass-text-secondary">02.01.2025, 18:00</div>
                        </div>
                    </div>
                    <!-- –û–±—ã—á–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–ó–∞–≥–ª—É—à–∫–∞) -->
                    <div class="glass-card p-4 rounded-xl flex items-center space-x-3">
                        <i data-lucide="clock" class="w-5 h-5 glass-text-secondary"></i>
                        <div>
                            <div class="font-medium">–ù–∞—á–∞–ª–æ –Ω–æ–≤–æ–≥–æ –¥–Ω—è</div>
                            <div class="text-sm glass-text-secondary">Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.</div>
                            <div class="text-xs mt-1 glass-text-secondary">03.01.2025, 08:00</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- –í–∫–ª–∞–¥–∫–∞: –ü—Ä–æ—Ñ–∏–ª—å (Profile) -->
            <section id="tab-profile" class="tab-view hidden space-y-4">
                <h1 class="text-2xl font-bold mb-4">–ü—Ä–æ—Ñ–∏–ª—å</h1>
                
                <!-- –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                <div class="glass-card p-4 rounded-xl text-center">
                    <img src="https://placehold.co/80x80/4CAF50/FFFFFF?text=A" alt="–ê–≤–∞—Ç–∞—Ä" class="w-20 h-20 rounded-full border-4 mx-auto mb-3" style="border-color: var(--color-primary);">
                    <div class="text-xl font-bold">–ò–º—è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</div>
                    <div class="text-sm glass-text-secondary">–£—Ä–æ–≤–µ–Ω—å <span id="profile-level" class="font-bold" style="color: var(--color-accent);">1</span> | –°—Ç—Ä–∏–∫ <span id="profile-streak" class="font-bold" style="color: var(--color-accent);">0</span></div>
                </div>

                <!-- –ë–ª–æ–∫ –û–ø–∏—Å–∞–Ω–∏—è –∏ –¶–µ–ª–µ–π (–ó–∞–≥–ª—É—à–∫–∞) -->
                <div class="glass-card p-4 rounded-xl space-y-3">
                    <h2 class="text-lg font-semibold border-b pb-2" style="border-color: var(--color-card-border);">–û–±–æ –º–Ω–µ –∏ –¶–µ–ª—è—Ö</h2>
                    <p class="text-sm glass-text-secondary">
                        <span style="color: var(--color-primary);" class="font-bold">–¶–µ–ª—å:</span> –£–ª—É—á—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ —Å–Ω–∞ (7.5 —á–∞—Å–æ–≤) –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Å—Ç—Ä–∏–∫. 
                        <br><br>
                        <span style="color: var(--color-accent);" class="font-bold">–ü—Ä–∏–≤—ã—á–∫–∏:</span> –ü–∏—Ç—å 2–ª –≤–æ–¥—ã, 10–∫ —à–∞–≥–æ–≤, 15 –º–∏–Ω –º–µ–¥–∏—Ç–∞—Ü–∏–∏. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                    </p>
                    <button class="w-full text-center text-sm font-medium py-2 rounded-lg transition hover:opacity-80 active:scale-95" style="color: var(--color-primary); background-color: var(--color-card-border);" onclick="alertMessage('–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ')">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ü—Ä–æ—Ñ–∏–ª—å</button>
                </div>
                
                <!-- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è (–ó–∞–≥–ª—É—à–∫–∞) -->
                <div class="grid grid-cols-2 gap-3">
                    <div class="glass-card p-4 rounded-xl text-center">
                        <i data-lucide="footprints" class="w-6 h-6 mx-auto text-blue-400 mb-1"></i>
                        <div class="text-sm glass-text-secondary">–í—Å–µ–≥–æ –®–∞–≥–æ–≤ (lorem)</div>
                        <div class="text-xl font-bold">12 458</div>
                    </div>
                    <div class="glass-card p-4 rounded-xl text-center">
                        <i data-lucide="coffee" class="w-6 h-6 mx-auto text-amber-500 mb-1"></i>
                        <div class="text-sm glass-text-secondary">–ö–∞–ª–æ—Ä–∏–∏ (avg) (ipsum)</div>
                        <div class="text-xl font-bold">1950</div>
                    </div>
                    <div class="glass-card p-4 rounded-xl text-center">
                        <i data-lucide="bed" class="w-6 h-6 mx-auto text-indigo-400 mb-1"></i>
                        <div class="text-sm glass-text-secondary">–°—Ä–µ–¥–Ω–∏–π –°–æ–Ω (dolor)</div>
                        <div class="text-xl font-bold">6—á 45–º</div>
                    </div>
                    <div class="glass-card p-4 rounded-xl text-center">
                        <i data-lucide="zap" class="w-6 h-6 mx-auto text-red-500 mb-1"></i>
                        <div class="text-sm glass-text-secondary">XP –í—Å–µ–≥–æ (sit amet)</div>
                        <div class="text-xl font-bold">1200</div>
                    </div>
                </div>

                <!-- –ë–ª–æ–∫ –í—ã–±–æ—Ä–∞ –¢–µ–º—ã -->
                <div class="glass-card p-4 rounded-xl space-y-3">
                    <h2 class="text-lg font-semibold" style="color: var(--color-primary);">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¢–µ–º—ã</h2>
                    <div class="flex space-x-4">
                        <button onclick="setTheme('green')" class="w-1/3 p-3 rounded-xl border-2 hover:opacity-80 transition active:scale-95" id="theme-green" style="border-color: #4CAF50; background-color: rgba(76, 175, 80, 0.2);">–ó–µ–ª–µ–Ω–∞—è</button>
                        <button onclick="setTheme('blue')" class="w-1/3 p-3 rounded-xl border-2 hover:opacity-80 transition active:scale-95" id="theme-blue" style="border-color: #58C9F8; background-color: rgba(88, 201, 248, 0.2);">–°–∏–Ω—è—è</button>
                        <button onclick="setTheme('pink')" class="w-1/3 p-3 rounded-xl border-2 hover:opacity-80 transition active:scale-95" id="theme-pink" style="border-color: #D81B60; background-color: rgba(216, 27, 96, 0.2); color: var(--color-text-base);">–†–æ–∑–æ–≤–∞—è</button>
                    </div>
                    <p class="text-xs glass-text-secondary">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–º—Ñ–æ—Ä—Ç–∞.</p>
                </div>

            </section>
            
            <!-- –í–∫–ª–∞–¥–∫–∞: –î–æ–±–∞–≤–∏—Ç—å (Modal) - –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –∫–Ω–æ–ø–∫–∏ -->
            <div id="add-modal" class="hidden fixed inset-0 z-50 bg-black/60 flex items-center justify-center p-4 transition-opacity duration-300 opacity-0" onclick="if(event.target.id === 'add-modal') hideModal('add-modal')">
                <div class="glass-card p-6 rounded-2xl w-full max-w-sm transform scale-95 opacity-0 transition-all duration-300" id="add-modal-content">
                    <h2 class="text-2xl font-bold mb-4 text-center">–ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å?</h2>
                    <div class="space-y-3">
                        <button onclick="addWater(500); hideModal('add-modal')" class="w-full flex items-center justify-center p-3 rounded-xl glass-card hover:bg-white/10 active:scale-[0.98] transition" style="border-color: var(--color-primary); color: var(--color-primary);">
                            <i data-lucide="droplet" class="w-5 h-5 mr-3"></i> –í–æ–¥–∞ (+500 –º–ª)
                        </button>
                        <button onclick="alertMessage('–î–æ–±–∞–≤–∏—Ç—å –®–∞–≥–∏'); hideModal('add-modal')" class="w-full flex items-center justify-center p-3 rounded-xl glass-card border-blue-400/50 bg-white/10 hover:bg-white/15 active:scale-[0.98] transition">
                            <i data-lucide="footprints" class="w-5 h-5 mr-3 text-blue-400"></i> –®–∞–≥–∏
                        </button>
                        <button onclick="alertMessage('–î–æ–±–∞–≤–∏—Ç—å –°–æ–Ω'); hideModal('add-modal')" class="w-full flex items-center justify-center p-3 rounded-xl glass-card border-indigo-400/50 bg-white/10 hover:bg-white/15 active:scale-[0.98] transition">
                            <i data-lucide="moon" class="w-5 h-5 mr-3 text-indigo-400"></i> –°–æ–Ω / –ó–∞–º–µ—Ç–∫–∞
                        </button>
                    </div>
                </div>
            </div>

            <!-- Custom Alert Message Box -->
            <div id="message-box" class="fixed bottom-24 left-1/2 -translate-x-1/2 p-3 px-5 bg-white/15 backdrop-blur-lg rounded-full text-sm font-medium text-white shadow-xl transition-all duration-500 opacity-0 pointer-events-none z-50">
                –°–æ–æ–±—â–µ–Ω–∏–µ
            </div>

        </main>
    </div>

    <!-- ---------------------------- -->
    <!-- 3. –ù–∏–∂–Ω—è—è –ü–∞–Ω–µ–ª—å –ù–∞–≤–∏–≥–∞—Ü–∏–∏ -->
    <!-- ---------------------------- -->
    <nav class="fixed bottom-0 w-full max-w-md mx-auto glass-card bottom-nav z-30 flex justify-around items-center rounded-t-2xl px-2">
        
        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
        <button id="nav-home" onclick="switchTab('home')" class="nav-item flex flex-col items-center justify-center text-xs glass-text-secondary transition-all duration-300 active:scale-90">
            <i data-lucide="home" class="w-6 h-6"></i>
            <span class="mt-1">–ì–ª–∞–≤–Ω–∞—è</span>
        </button>
        
        <button id="nav-search" onclick="switchTab('search')" class="nav-item flex flex-col items-center justify-center text-xs glass-text-secondary transition-all duration-300 active:scale-90">
            <i data-lucide="search" class="w-6 h-6"></i>
            <span class="mt-1">–ü–æ–∏—Å–∫</span>
        </button>
        
        <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ "+" -->
        <button onclick="showModal('add-modal')" class="nav-item-plus fixed rounded-full flex items-center justify-center transform active:scale-90 transition-all duration-300">
            <i data-lucide="plus" class="w-8 h-8 text-white stroke-[3px]"></i>
        </button>
        <div class="w-14 h-14"></div> <!-- –ó–∞–ø–æ–ª–Ω–∏—Ç–µ–ª—å –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –∫–Ω–æ–ø–∫–∏ -->

        <button id="nav-notifications" onclick="switchTab('notifications')" class="nav-item flex flex-col items-center justify-center text-xs glass-text-secondary transition-all duration-300 active:scale-90">
            <i data-lucide="bell" class="w-6 h-6"></i>
            <span class="mt-1">–£–≤–µ–¥.</span>
        </button>

        <button id="nav-profile" onclick="switchTab('profile')" class="nav-item flex flex-col items-center justify-center text-xs glass-text-secondary transition-all duration-300 active:scale-90">
            <i data-lucide="user" class="w-6 h-6"></i>
            <span class="mt-1">–ü—Ä–æ—Ñ–∏–ª—å</span>
        </button>

    </nav>
    
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        let userData = {
            level: 1,
            xp: 0,
            xpToNextLevel: 1000,
            streak: 0,
            waterGoal: 2000,
            waterCurrent: 0,
            theme: 'green' // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª–µ –¥–ª—è —Ç–µ–º—ã
        };

        let activeTab = 'home';
        const XP_PER_WATER = 10;
        const STAR_COUNT = 50;
        
        /**
         * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.
         */
        function saveData() {
            localStorage.setItem('vitaFlowUserData', JSON.stringify(userData));
            localStorage.setItem('vitaFlowTheme', userData.theme); // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–º—É –æ—Ç–¥–µ–ª—å–Ω–æ
        }

        /**
         * –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.
         */
        function loadData() {
            const savedData = localStorage.getItem('vitaFlowUserData');
            if (savedData) {
                try {
                    const loadedData = JSON.parse(savedData);
                    Object.keys(userData).forEach(key => {
                        if (loadedData.hasOwnProperty(key)) {
                            userData[key] = loadedData[key];
                        }
                    });
                } catch (e) {
                    console.error("Error loading data:", e);
                }
            }
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–º—ã
            const savedTheme = localStorage.getItem('vitaFlowTheme');
            if (savedTheme) {
                userData.theme = savedTheme;
            }
        }

        /**
         * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–∑–∞–º–µ–Ω–∞ alert).
         */
        function alertMessage(message, duration = 3000) {
            const box = document.getElementById('message-box');
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–≤–µ—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–º—ã
            let color = userData.theme === 'pink' ? 'var(--color-text-base)' : 'white'; // –£–ª—É—á—à–µ–Ω–∏–µ: —Ä–æ–∑–æ–≤—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ —Ä–æ–∑–æ–≤–æ–π —Ç–µ–º–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–µ–º–Ω—ã–º

            box.textContent = message;
            box.style.opacity = '1';
            box.style.bottom = '96px';
            box.style.color = color;
            
            setTimeout(() => {
                box.style.opacity = '0';
                box.style.bottom = '24px';
            }, duration);
        }

        // ------------------
        // –§—É–Ω–∫—Ü–∏–∏ –¢—Ä–µ–∫–∏–Ω–≥–∞ –∏ –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏
        // ------------------
        
        /**
         * –û–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å XP –∏ —É—Ä–æ–≤–µ–Ω—å.
         */
        function gainXP(amount) {
            if (amount > 0) {
                userData.xp += amount;
                // –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–ª–µ—Ä—Ç, –µ—Å–ª–∏ –≤—ã–∑—ã–≤–∞–µ–º gainXP(0) –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
                if (amount > 0) {
                    alertMessage(`+${amount} XP!`);
                }
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è
            while (userData.xp >= userData.xpToNextLevel) {
                userData.xp -= userData.xpToNextLevel; 
                userData.level += 1; 
                // –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏: —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å —Ç—Ä–µ–±—É–µ—Ç –Ω–∞ 50% –±–æ–ª—å—à–µ XP
                userData.xpToNextLevel = Math.round(userData.xpToNextLevel * 1.5); 
                alertMessage(`üéâ –í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –£—Ä–æ–≤–Ω—è ${userData.level}!`, 5000);
            }

            const progressPercent = (userData.xp / userData.xpToNextLevel) * 100;

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
            document.getElementById('xp-level-display').textContent = userData.level;
            document.getElementById('xp-current').textContent = userData.xp;
            document.getElementById('xp-next-level').textContent = userData.xpToNextLevel;
            document.getElementById('xp-progress-bar').style.width = `${progressPercent}%`;

            document.getElementById('user-level').textContent = userData.level;
            
            // –ü—Ä–æ—Ñ–∏–ª—å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É –ü—Ä–æ—Ñ–∏–ª—å
            // document.getElementById('profile-level').textContent = userData.level; 
            // document.getElementById('profile-streak').textContent = userData.streak; 
            document.getElementById('user-streak').innerHTML = `üî• ${userData.streak} –°—Ç—Ä–∏–∫`;

            saveData();
        }

        /**
         * –û–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å —Ç—Ä–µ–∫–∏–Ω–≥–∞ –≤–æ–¥—ã.
         */
        function updateWaterProgress() {
            const progress = Math.min(100, (userData.waterCurrent / userData.waterGoal) * 100);
            const angle = (progress / 100) * 360;
            
            const circle = document.getElementById('water-progress-circle');
            const text = document.getElementById('water-progress-text');
            const currentAmount = document.getElementById('water-current-amount');

            // –ò—Å–ø–æ–ª—å–∑—É–µ–º requestAnimationFrame –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω–∏—á–µ—Å–∫–æ–≥–æ –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞
            circle.style.setProperty('--progress-angle', `${angle}deg`);
            text.textContent = `${Math.round(progress)}%`;
            currentAmount.textContent = userData.waterCurrent;
            
            if (progress >= 100) {
                // –ï—Å–ª–∏ —Ü–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞, –¥–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
                circle.classList.add('animate-pulse');
            } else {
                circle.classList.remove('animate-pulse');
            }

            saveData();
        }

        /**
         * –î–æ–±–∞–≤–ª—è–µ—Ç –≤–æ–¥—É –∏ –Ω–∞—á–∏—Å–ª—è–µ—Ç XP.
         */
        function addWater(amount) {
            userData.waterCurrent += amount;
            gainXP(XP_PER_WATER); 
            updateWaterProgress();
            alertMessage(`–î–æ–±–∞–≤–ª–µ–Ω–æ ${amount} –º–ª –≤–æ–¥—ã.`);
        }
        
        // ------------------
        // –§—É–Ω–∫—Ü–∏–∏ –¢–µ–º
        // ------------------
        
        /**
         * –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—É—é —Ç–µ–º—É.
         */
        function setTheme(themeName) {
            const body = document.body;
            
            // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –∫–ª–∞—Å—Å—ã —Ç–µ–º—ã
            body.classList.remove('blue-theme', 'pink-theme');
            
            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å —Ç–µ–º—ã –∏ –æ–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
            if (themeName === 'blue') {
                body.classList.add('blue-theme');
            } else if (themeName === 'pink') {
                body.classList.add('pink-theme');
            }
            userData.theme = themeName;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –≤—ã–±–æ—Ä–∞ —Ç–µ–º—ã
            ['green', 'blue', 'pink'].forEach(name => {
                const btn = document.getElementById(`theme-${name}`);
                if (btn) {
                    if (name === themeName) {
                        btn.classList.add('font-bold');
                        btn.style.borderWidth = '2px';
                    } else {
                        btn.classList.remove('font-bold');
                        btn.style.borderWidth = '1px'; 
                    }
                }
            });

            // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –∏–∫–æ–Ω–∫–∏, —á—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏–ª–∏—Å—å —Ü–≤–µ—Ç–∞ Lucide
            // –≠—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–º–µ–Ω–µ —Ç–µ–º—ã, –∞ –Ω–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –≤–∫–ª–∞–¥–∫–∏
            lucide.createIcons();
            saveData();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –≤–æ–¥—ã, —á—Ç–æ–±—ã —Ü–≤–µ—Ç –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞ –ø—Ä–∏–º–µ–Ω–∏–ª—Å—è
            updateWaterProgress();
        }


        // ------------------
        // –ê–Ω–∏–º–∞—Ü–∏—è –ü–∞–¥–∞—é—â–∏—Ö –ó–≤–µ–∑–¥ (Falling Stars)
        // ------------------
        function generateStars() {
            const container = document.getElementById('star-container');
            if (!container) return;

            container.innerHTML = ''; 

            for (let i = 0; i < STAR_COUNT; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                const size = Math.random() * 2 + 1; 
                const duration = Math.random() * 10 + 10; 
                const delay = Math.random() * 20; 
                
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.left = `${Math.random() * 100}vw`;
                star.style.top = `${Math.random() * 100}vh`; 
                star.style.animationDuration = `${duration}s`;
                star.style.animationDelay = `-${delay}s`; 
                
                star.style.boxShadow = `0 0 ${size}px 0.5px rgba(255, 255, 255, 0.7)`; 

                container.appendChild(star);
            }
        }
        
        // ------------------
        // –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
        // ------------------

        /**
         * –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—É—é –≤–∫–ª–∞–¥–∫—É.
         */
        function switchTab(tabName) {
            // –°–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫
            document.querySelectorAll('.tab-view').forEach(view => {
                view.style.opacity = '0';
                view.style.display = 'none';
            });

            // –°–±—Ä–æ—Å –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('nav-item-active');
                // –¶–≤–µ—Ç –∏–∫–æ–Ω–æ–∫ –∏ —Ç–µ–∫—Å—Ç–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –Ω–∞ secondary
                item.children[0].style.color = 'var(--color-text-secondary)'; 
                item.children[1].style.color = 'var(--color-text-secondary)'; 
            });

            // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–∏ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
            const newView = document.getElementById(`tab-${tabName}`);
            if (newView) {
                newView.style.display = 'block';
                setTimeout(() => {
                    newView.style.opacity = '1';
                }, 10);
            }
            
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            const navElement = document.getElementById(`nav-${tabName}`);
            if (navElement) {
                navElement.classList.add('nav-item-active');
                // –ê–∫—Ç–∏–≤–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –∫—Ä–∞—Å–∏–º –≤ Primary
                navElement.children[0].style.color = 'var(--color-primary)';
                navElement.children[1].style.color = 'var(--color-primary)'; 
            }
            
            activeTab = tabName;
            
            // –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–ª—è –ü—Ä–æ—Ñ–∏–ª—è
            if (tabName === 'profile') {
                document.getElementById('profile-level').textContent = userData.level;
                document.getElementById('profile-streak').textContent = userData.streak;
            }
        }
        
        /**
         * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ.
         */
        function showModal(modalId) {
            const modal = document.getElementById(modalId);
            const modalContent = document.getElementById(`${modalId}-content`);

            modal.classList.remove('hidden');
            // –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è background
            setTimeout(() => {
                modal.style.opacity = '1';
                modalContent.style.transform = 'scale(1)';
                modalContent.style.opacity = '1';
            }, 10);
        }

        /**
         * –°–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ.
         */
        function hideModal(modalId) {
            const modal = document.getElementById(modalId);
            const modalContent = document.getElementById(`${modalId}-content`);

            modal.style.opacity = '0';
            modalContent.style.transform = 'scale(0.95)';
            modalContent.style.opacity = '0';
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        /**
         * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
         */
        function init() {
            // 1. –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
            loadData();
            
            // 2. –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é —Ç–µ–º—É (—Ç–∞–∫–∂–µ –≤—ã–∑—ã–≤–∞–µ—Ç lucide.createIcons() –∏ updateWaterProgress())
            setTheme(userData.theme); 
            
            // 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º UI XP, —É—Ä–æ–≤–µ–Ω—å –∏ —Å—Ç—Ä–∏–∫ –±–µ–∑ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è XP
            gainXP(0); 
            
            // 4. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∑–≤–µ–∑–¥—ã
            generateStars(); 
            
            // 5. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–∫–ª–∞–¥–∫–∏ Home
            switchTab('home');
        }

        // ------------------
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –∑–∞–≥—Ä—É–∑–∫–µ –æ–∫–Ω–∞
        // ------------------
        window.onload = init;

        // –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏–∑ HTML
        window.addWater = addWater;
        window.switchTab = switchTab;
        window.alertMessage = alertMessage;
        window.showModal = showModal;
        window.hideModal = hideModal;
        window.setTheme = setTheme;

    </script>
</body>
</html>