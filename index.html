<<<<<<< HEAD
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VitaFlow | –ú–æ–±–∏–ª—å–Ω—ã–π PWA –¢—Ä–µ–∫–µ—Ä</title>
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —à—Ä–∏—Ñ—Ç–∞ Inter –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ü–≤–µ—Ç–∞ -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        /* 1. –î–µ—Ñ–æ–ª—Ç–Ω–∞—è (–¢–µ–º–Ω–∞—è/–ó–µ–ª–µ–Ω–∞—è) –¢–µ–º–∞ */
        :root {
            --color-primary: #4CAF50; /* –ó–µ–ª–µ–Ω—ã–π - –†–æ—Å—Ç, –°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ */
            --color-accent: #FF7043; /* –û—Ä–∞–Ω–∂–µ–≤—ã–π - –≠–Ω–µ—Ä–≥–∏—è, –°—Ç—Ä–∏–∫ */
            --color-bg-dark: #0B0D11; /* –ë–∞–∑–æ–≤—ã–π —Ç–µ–º–Ω—ã–π —Ñ–æ–Ω */
            --color-card-border: rgba(255, 255, 255, 0.15);
        }

        /* 2. –°–∏–Ω—è—è –¢–µ–º–∞ (–ö–ª–∞—Å—Å .blue-theme) */
        .blue-theme {
            --color-primary: #3B82F6; /* –°–∏–Ω–∏–π - –î–æ–≤–µ—Ä–∏–µ, –§–æ–∫—É—Å, –°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ */
            --color-accent: #60A5FA; /* –ê–∫—Ü–µ–Ω—Ç - –°–≤–µ—Ç–ª–æ-–≥–æ–ª—É–±–æ–π */
            --color-bg-dark: #0B182B; /* –¢–µ–º–Ω–æ-—Å–∏–Ω–∏–π —Ñ–æ–Ω */
        }
        
        /* 3. –†–æ–∑–æ–≤–∞—è –¢–µ–º–∞ (–ö–ª–∞—Å—Å .rose-theme) */
        .rose-theme {
            --color-primary: #E91E63; /* –†–æ–∑–æ–≤—ã–π/–ú–∞–ª–∏–Ω–æ–≤—ã–π - –°–∞–º–æ–∑–∞–±–æ—Ç–∞, –¢–µ–ø–ª–æ */
            --color-accent: #F472B6; /* –ê–∫—Ü–µ–Ω—Ç - –°–≤–µ—Ç–ª–æ-—Ä–æ–∑–æ–≤—ã–π */
            --color-bg-dark: #1D101A; /* –¢–µ–º–Ω–æ-—Ä–æ–∑–æ–≤—ã–π —Ñ–æ–Ω */
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--color-bg-dark);
            transition: background-color 0.5s ease; /* –ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ —Ñ–æ–Ω–∞ –ø—Ä–∏ —Å–º–µ–Ω–µ —Ç–µ–º—ã */
            overflow: hidden; 
        }

        /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω –∏ –∑–≤—ë–∑–¥–æ—á–∫–∏ (–¶–≤–µ—Ç —Ñ–æ–Ω–∞ –º–µ–Ω—è–µ—Ç—Å—è –ø–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π) */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            /* –ì—Ä–∞–¥–∏–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞ —Ç–µ–º—ã */
            background: linear-gradient(-45deg, var(--color-bg-dark), #1A1C20, var(--color-bg-dark), #1A1C20);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .star {
            position: absolute;
            width: 3px;
            height: 3px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 50%;
            opacity: 0;
            animation: fall linear infinite;
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
        }

        @keyframes fall {
            0% { transform: translateY(-100vh); opacity: 0; }
            5% { opacity: 1; }
            95% { opacity: 1; }
            100% { transform: translateY(100vh); opacity: 0; }
        }

        /* –ì–ª–∞–∑–æ–º–æ—Ä—Ñ–∏–∑–º (Glassmorphism) - –ò—Å–ø–æ–ª—å–∑—É–µ–º opacity 0.08 –¥–ª—è –≤—ã—Ä–∞–∂–µ–Ω–Ω–æ—Å—Ç–∏ */
        .glass-card {
            background-color: rgba(255, 255, 255, 0.08); 
            backdrop-filter: blur(12px); 
            border: 1px solid var(--color-card-border); 
            box-shadow: inset 0 0 5px rgba(255, 255, 255, 0.05), 0 4px 30px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s, opacity 0.2s, background-color 0.5s;
        }

        .glass-card:hover {
            transform: scale(1.02);
        }
        
        /* –ö–∞—Ä—Ç–æ—á–∫–∞ –í–æ–¥—ã - –ü—Ä–æ–≥—Ä–µ—Å—Å */
        .water-progress {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: conic-gradient(
                var(--color-primary) 0deg, 
                var(--color-primary) 0deg, 
                var(--color-bg-dark) 0deg
            );
            transition: background 0.5s ease-out; 
            /* –¢–µ–Ω—å –æ—Ç –∫—Ä—É–≥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Primary Color —Ç–µ–º—ã */
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.4); 
        }

        /* –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ '+' */
        .nav-center-btn {
            width: 60px;
            height: 60px;
            /* –ì—Ä–∞–¥–∏–µ–Ω—Ç –∫–Ω–æ–ø–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Primary Color —Ç–µ–º—ã */
            background: linear-gradient(45deg, var(--color-primary), var(--color-primary), #1A1C20); 
            box-shadow: 0 4px 20px var(--color-primary); 
            box-shadow: 0 4px 20px color-mix(in srgb, var(--color-primary) 80%, black); /* –£—Å–∏–ª–µ–Ω–Ω–∞—è —Ç–µ–Ω—å, –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ —Ü–≤–µ—Ç—É */
            transition: transform 0.2s, background 0.5s;
        }
        
        /* –°–∏–º—É–ª—è—Ü–∏—è –¢–∞–∫—Ç–∏–ª—å–Ω–æ–≥–æ –û—Ç–∫–ª–∏–∫–∞ */
        .interactive-btn:active, .nav-item:active {
            transform: scale(0.95); 
            opacity: 0.8;
            transition: transform 0.1s, opacity 0.1s;
        }

        .nav-item {
            /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Ç–µ–ø–µ—Ä—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç Primary Color –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏ */
            transition: opacity 0.2s, color 0.2s;
        }
        
        /* –¶–≤–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏ */
        .active-nav-color {
            color: var(--color-primary);
        }
    </style>
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏–∫–æ–Ω–æ–∫ Lucide -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body class="text-white">
    <!-- 2.3 –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω: –ì—Ä–∞–¥–∏–µ–Ω—Ç -->
    <div class="animated-bg"></div>
    
    <!-- 2.3 –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω: –ü–∞–¥–∞—é—â–∏–µ –∑–≤—ë–∑–¥–æ—á–∫–∏ (–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤ JS) -->
    <div id="star-container" class="pointer-events-none fixed inset-0 overflow-hidden z-0"></div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä PWA (–ú–æ–±–∏–ª—å–Ω—ã–π –≤–∏–¥) -->
    <div class="relative max-w-md mx-auto h-screen bg-transparent flex flex-col pt-4 pb-20">
        
        <!-- –í–µ—Ä—Ö–Ω–∏–π –±–ª–æ–∫ (–•–µ–¥–µ—Ä) -->
        <header id="app-header" class="px-6 py-4 flex justify-between items-center z-10 transition-all duration-300">
            <div class="flex items-center space-x-2">
                <h1 class="text-2xl font-extrabold tracking-tight text-white">VitaFlow</h1>
            </div>
            <div class="flex items-center space-x-4">
                <div class="text-right">
                    <span class="text-xs font-semibold text-gray-400 block">–°—Ç—Ä–∏–∫: <span id="user-streak" class="text-orange-300">7</span> üî•</span>
                    <span class="text-sm font-bold block">–£—Ä. <span id="user-level" class="active-nav-color">5</span></span>
                </div>
                <!-- –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –ê–≤–∞—Ç–∞—Ä -->
                <div class="w-10 h-10 bg-gray-600 rounded-full flex items-center justify-center border-2 border-gray-400 cursor-pointer hover:border-green-400 transition interactive-btn" onclick="switchTab('profile')">
                    <i data-lucide="user" class="w-5 h-5 text-gray-200"></i>
                </div>
            </div>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω (–ö–æ–Ω—Ç–µ–Ω—Ç –≤–∫–ª–∞–¥–æ–∫) -->
        <main class="flex-grow overflow-y-auto px-4 pb-4 z-10">
            
            <!-- –í–∫–ª–∞–¥–∫–∞ Home/–î–∞—à–±–æ—Ä–¥ -->
            <section id="tab-home" class="tab-content active-tab space-y-4">
                <h2 class="text-xl font-bold mb-4">–î–∞—à–±–æ—Ä–¥</h2>

                <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –í–æ–¥—ã -->
                <div class="glass-card p-4 rounded-xl flex items-center justify-between">
                    <div>
                        <h3 class="text-lg font-semibold mb-1 flex items-center">
                            <i data-lucide="droplet" class="w-5 h-5 mr-2" style="color: var(--color-primary);"></i>
                            –í–æ–¥–∞
                        </h3>
                        <p class="text-3xl font-extrabold" id="water-current">0</p>
                        <p class="text-sm text-gray-400">–∏–∑ <span id="water-target">2500</span> –º–ª</p>
                    </div>
                    
                    <div class="flex items-center space-x-3">
                        <!-- –ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ (conic-gradient) -->
                        <div class="water-progress p-2 flex items-center justify-center">
                            <div class="w-full h-full rounded-full flex items-center justify-center" style="background-color: var(--color-bg-dark);">
                                <span id="water-percent" class="text-sm font-bold active-nav-color">0%</span>
                            </div>
                        </div>

                        <!-- –ö–Ω–æ–ø–∫–∏ –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
                        <div class="flex flex-col space-y-2">
                            <button onclick="addWater(250)" class="glass-card text-sm font-semibold px-3 py-1 rounded-full hover:shadow-md transition duration-150 interactive-btn" style="border-color: var(--color-primary); color: var(--color-primary);">
                                +250 –º–ª
                            </button>
                            <button onclick="addWater(500)" class="glass-card text-sm font-semibold px-3 py-1 rounded-full hover:shadow-md transition duration-150 interactive-btn" style="border-color: var(--color-primary); color: var(--color-primary);">
                                +500 –º–ª
                            </button>
                        </div>
                    </div>
                </div>

                <!-- –ú–∏–Ω–∏-–ø–ª–∏—Ç–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è -->
                <div class="grid grid-cols-3 gap-3">
                    <!-- –®–∞–≥–∏ -->
                    <div class="glass-card p-3 rounded-lg text-center hover:shadow-lg transition interactive-btn">
                        <i data-lucide="footprints" class="w-6 h-6 mx-auto text-yellow-400 mb-1"></i>
                        <p class="text-xl font-bold">4.5K</p>
                        <p class="text-xs text-gray-400">–®–∞–≥–∏</p>
                    </div>
                    <!-- –ü—É–ª—å—Å -->
                    <div class="glass-card p-3 rounded-lg text-center hover:shadow-lg transition interactive-btn">
                        <i data-lucide="heart-pulse" class="w-6 h-6 mx-auto text-red-500 mb-1"></i>
                        <p class="text-xl font-bold">68</p>
                        <p class="text-xs text-gray-400">–ü—É–ª—å—Å</p>
                    </div>
                    <!-- –°–æ–Ω -->
                    <div class="glass-card p-3 rounded-lg text-center hover:shadow-lg transition interactive-btn">
                        <i data-lucide="moon" class="w-6 h-6 mx-auto text-indigo-400 mb-1"></i>
                        <p class="text-xl font-bold">7.2—á</p>
                        <p class="text-xs text-gray-400">–°–æ–Ω</p>
                    </div>
                </div>

                <!-- XP –∏ —É—Ä–æ–≤–Ω–∏ -->
                <div class="glass-card p-4 rounded-xl">
                    <div class="flex justify-between items-end mb-2">
                        <span class="text-sm font-semibold">XP: <span id="current-xp">0</span> / <span id="next-level-xp">500</span></span>
                        <span class="text-xs text-gray-400">–£—Ä–æ–≤–µ–Ω—å <span id="current-level-display">5</span> ‚Üí <span id="next-level-display">6</span></span>
                    </div>
                    <div class="w-full bg-gray-700 rounded-full h-3">
                        <div id="xp-progress-bar" class="h-3 rounded-full" style="width: 0%; background-color: var(--color-accent); transition: width 0.5s ease-out;"></div>
                    </div>
                    <p class="text-xs text-gray-500 mt-2">–ï—â—ë <span id="xp-to-next-level">500</span> XP –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è!</p>
                </div>

                <!-- –ì—Ä–∞—Ñ–∏–∫ –≤–æ–¥—ã (–í–∏–∑—É–∞–ª—å–Ω–æ –±–æ–ª–µ–µ –≥–ª–∞–¥–∫–∏–π) -->
                <div class="glass-card p-4 rounded-xl">
                    <h3 class="text-lg font-semibold mb-3">–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –≤–æ–¥—ã (–ù–µ–¥–µ–ª—è)</h3>
                    <!-- –°–µ—Ç–∫–∞ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞ -->
                    <div class="flex justify-between items-end h-32 pt-2 space-x-2 relative">
                        <!-- –õ–∏–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞ (–°–∏–º—É–ª—è—Ü–∏—è) -->
                        <div class="absolute inset-0 pt-2 pointer-events-none">
                            <svg width="100%" height="100%" viewBox="0 0 100 100" preserveAspectRatio="none" class="opacity-30">
                                <!-- –ü—Ä–∏–º–µ—Ä –ø–æ–ª–∏–ª–∏–Ω–∏–∏, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–π –ø–ª–∞–≤–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ -->
                                <polyline fill="none" stroke="var(--color-primary)" stroke-width="2" points="5,80 19,40 33,65 47,50 61,90 75,55 90,70" />
                            </svg>
                        </div>

                        <!-- –≠–ª–µ–º–µ–Ω—Ç—ã –≥—Ä–∞—Ñ–∏–∫–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ–º data-value –¥–ª—è JS –ø–æ–¥—Å–∫–∞–∑–æ–∫) -->
                        <div class="flex-1 text-center group cursor-pointer h-full flex flex-col justify-end items-center relative z-10" data-value="1500" data-day="–ü–Ω">
                            <div class="w-3 h-3 rounded-full bg-blue-400 ring-2 ring-blue-700 mb-1 opacity-0 group-hover:opacity-100 transition" style="background-color: var(--color-primary);"></div>
                            <span class="absolute -top-6 text-xs opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 p-1 rounded whitespace-nowrap">1500 –º–ª</span>
                            <span class="text-xs mt-1 block text-gray-400">–ü–Ω</span>
                        </div>
                         <div class="flex-1 text-center group cursor-pointer h-full flex flex-col justify-end items-center relative z-10" data-value="2800" data-day="–í—Ç">
                            <div class="w-3 h-3 rounded-full bg-blue-400 ring-2 ring-blue-700 mb-1 opacity-0 group-hover:opacity-100 transition" style="background-color: var(--color-primary);"></div>
                            <span class="absolute -top-6 text-xs opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 p-1 rounded whitespace-nowrap">2800 –º–ª</span>
                            <span class="text-xs mt-1 block text-gray-400">–í—Ç</span>
                        </div>
                        <div class="flex-1 text-center group cursor-pointer h-full flex flex-col justify-end items-center relative z-10" data-value="2000" data-day="–°—Ä">
                            <div class="w-3 h-3 rounded-full bg-blue-400 ring-2 ring-blue-700 mb-1 opacity-0 group-hover:opacity-100 transition" style="background-color: var(--color-primary);"></div>
                            <span class="absolute -top-6 text-xs opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 p-1 rounded whitespace-nowrap">2000 –º–ª</span>
                            <span class="text-xs mt-1 block text-gray-400">–°—Ä</span>
                        </div>
                        <div class="flex-1 text-center group cursor-pointer h-full flex flex-col justify-end items-center relative z-10" data-value="2500" data-day="–ß—Ç">
                            <div class="w-3 h-3 rounded-full bg-blue-400 ring-2 ring-blue-700 mb-1 opacity-0 group-hover:opacity-100 transition" style="background-color: var(--color-primary);"></div>
                            <span class="absolute -top-6 text-xs opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 p-1 rounded whitespace-nowrap">2500 –º–ª</span>
                            <span class="text-xs mt-1 block text-gray-400">–ß—Ç</span>
                        </div>
                        <div class="flex-1 text-center group cursor-pointer h-full flex flex-col justify-end items-center relative z-10" data-value="1000" data-day="–ü—Ç">
                            <div class="w-3 h-3 rounded-full bg-blue-400 ring-2 ring-blue-700 mb-1 opacity-0 group-hover:opacity-100 transition" style="background-color: var(--color-primary);"></div>
                            <span class="absolute -top-6 text-xs opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 p-1 rounded whitespace-nowrap">1000 –º–ª</span>
                            <span class="text-xs mt-1 block text-gray-400">–ü—Ç</span>
                        </div>
                        <div class="flex-1 text-center group cursor-pointer h-full flex flex-col justify-end items-center relative z-10" data-value="2200" data-day="–°–±">
                            <div class="w-3 h-3 rounded-full bg-blue-400 ring-2 ring-blue-700 mb-1 opacity-0 group-hover:opacity-100 transition" style="background-color: var(--color-primary);"></div>
                            <span class="absolute -top-6 text-xs opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 p-1 rounded whitespace-nowrap">2200 –º–ª</span>
                            <span class="text-xs mt-1 block text-gray-400">–°–±</span>
                        </div>
                        <div class="flex-1 text-center group cursor-pointer h-full flex flex-col justify-end items-center relative z-10" data-value="1800" data-day="–í—Å">
                            <div class="w-3 h-3 rounded-full bg-blue-400 ring-2 ring-blue-700 mb-1 opacity-0 group-hover:opacity-100 transition" style="background-color: var(--color-primary);"></div>
                            <span class="absolute -top-6 text-xs opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 p-1 rounded whitespace-nowrap">1800 –º–ª</span>
                            <span class="text-xs mt-1 block text-gray-400">–í—Å</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- –í–∫–ª–∞–¥–∫–∞ –ü—Ä–æ—Ñ–∏–ª—å -->
            <section id="tab-profile" class="tab-content hidden space-y-4">
                <h2 class="text-xl font-bold mb-4">–ú–æ–π –ü—Ä–æ—Ñ–∏–ª—å</h2>
                
                <div class="glass-card p-6 rounded-xl text-center">
                    <div class="w-20 h-20 bg-gray-600 rounded-full mx-auto flex items-center justify-center border-4 active-nav-color mb-3">
                        <i data-lucide="user-check" class="w-10 h-10 text-gray-200"></i>
                    </div>
                    <p class="text-2xl font-bold">–ê–∫—Ç–∏–≤–Ω—ã–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</p>
                    <p class="text-sm text-gray-400">–£—Ä–æ–≤–µ–Ω—å <span id="profile-level">5</span> | <span id="profile-streak">7</span>-–¥–Ω–µ–≤–Ω—ã–π –°—Ç—Ä–∏–∫ üî•</p>
                </div>
                
                <!-- ‚ö°Ô∏è –ù–û–í–´–ô –§–£–ù–ö–¶–ò–û–ù–ê–õ: –°–º–µ–Ω–∞ —Ç–µ–º—ã ‚ö°Ô∏è -->
                <div class="glass-card p-4 rounded-xl">
                    <h3 class="text-lg font-semibold mb-3 flex items-center">
                        <i data-lucide="palette" class="w-5 h-5 mr-2" style="color: var(--color-accent);"></i>
                        –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¢–µ–º—ã (–ö–æ–º—Ñ–æ—Ä—Ç)
                    </h3>
                    <div class="flex justify-between space-x-3">
                        <button onclick="setTheme('dark')" class="flex-1 py-2 rounded-lg font-semibold interactive-btn text-white" style="background-color: #4CAF50;">
                            –ó–µ–ª–µ–Ω—ã–π (–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é)
                        </button>
                        <button onclick="setTheme('blue')" class="flex-1 py-2 rounded-lg font-semibold interactive-btn text-white" style="background-color: #3B82F6;">
                            –°–∏–Ω–∏–π (–§–æ–∫—É—Å)
                        </button>
                        <button onclick="setTheme('rose')" class="flex-1 py-2 rounded-lg font-semibold interactive-btn text-white" style="background-color: #E91E63;">
                            –†–æ–∑–æ–≤—ã–π (–ó–∞–±–æ—Ç–∞)
                        </button>
                    </div>
                    <p class="text-xs text-gray-500 mt-3">–¢–µ–∫—É—â–∞—è —Ç–µ–º–∞: <span id="current-theme-name" class="font-bold active-nav-color">–ó–µ–ª–µ–Ω—ã–π</span></p>
                </div>

                <div class="glass-card p-4 rounded-xl">
                    <h3 class="text-lg font-semibold mb-2">–û–±–∑–æ—Ä –ó–¥–æ—Ä–æ–≤—å—è</h3>
                    <div class="space-y-2">
                        <!-- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø–ª–∏—Ç–∫–∏ -->
                        <div class="flex justify-between items-center text-sm">
                            <span class="flex items-center"><i data-lucide="footprints" class="w-4 h-4 mr-2 text-yellow-400"></i> –®–∞–≥–∏:</span>
                            <span class="font-bold">–°—Ä–µ–¥–Ω–µ–µ 6,120 / –¶–µ–ª—å 8,000</span>
                        </div>
                        <div class="flex justify-between items-center text-sm">
                            <span class="flex items-center"><i data-lucide="moon" class="w-4 h-4 mr-2 text-indigo-400"></i> –°–æ–Ω:</span>
                            <span class="font-bold">–°—Ä–µ–¥–Ω–µ–µ 7 —á 15 –º–∏–Ω</span>
                        </div>
                        <div class="flex justify-between items-center text-sm">
                            <span class="flex items-center"><i data-lucide="flame" class="w-4 h-4 mr-2 text-red-400"></i> –ö–∞–ª–æ—Ä–∏–∏:</span>
                            <span class="font-bold">–°—Ä–µ–¥–Ω–µ–µ 2,100 –∫–∫–∞–ª</span>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- –í–∫–ª–∞–¥–∫–∞ –ü–æ–∏—Å–∫ -->
            <section id="tab-search" class="tab-content hidden space-y-4">
                <h2 class="text-xl font-bold mb-4">–ü–æ–∏—Å–∫ –∏ –≠–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è</h2>
                <div class="glass-card p-2 rounded-xl flex items-center">
                    <i data-lucide="search" class="w-5 h-5 ml-2 text-gray-400"></i>
                    <input type="text" placeholder="–ò—â–∏—Ç–µ —Å–æ–≤–µ—Ç—ã –ø–æ –∑–¥–æ—Ä–æ–≤—å—é –∏–ª–∏ –ø—Ä–∏–≤—ã—á–∫–∏..." class="w-full bg-transparent p-2 focus:outline-none placeholder-gray-400 text-sm">
                </div>

                <div class="space-y-3">
                    <h3 class="text-md font-semibold text-gray-300">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã</h3>
                    <div class="glass-card p-3 rounded-xl hover:bg-white/10 transition interactive-btn">
                        <p class="font-semibold">5 —Å–ø–æ—Å–æ–±–æ–≤ —É–ª—É—á—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ —Å–Ω–∞</p>
                        <p class="text-xs text-gray-400">–≠–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è | –°–æ–Ω</p>
                    </div>
                    <div class="glass-card p-3 rounded-xl hover:bg-white/10 transition interactive-btn">
                        <p class="font-semibold">–†–∞—Å—á—ë—Ç –¥–Ω–µ–≤–Ω–æ–π –Ω–æ—Ä–º—ã –≤–æ–¥—ã</p>
                        <p class="text-xs text-gray-400">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã | –í–æ–¥–∞</p>
                    </div>
                </div>
            </section>

            <!-- –í–∫–ª–∞–¥–∫–∞ –î–æ–±–∞–≤–∏—Ç—å (Quick Add) -->
            <section id="tab-add" class="tab-content hidden space-y-4 text-center">
                <h2 class="text-xl font-bold mb-6">–ß—Ç–æ –¥–æ–±–∞–≤–∏–º?</h2>

                <div class="grid grid-cols-2 gap-4">
                    <div class="glass-card p-6 rounded-xl hover:shadow-lg cursor-pointer transition interactive-btn" onclick="addWater(250)" style="border-color: var(--color-primary);">
                        <i data-lucide="droplet" class="w-8 h-8 mx-auto mb-2 text-blue-400"></i>
                        <p class="font-semibold" style="color: var(--color-primary);">–í–æ–¥–∞ (+250 –º–ª)</p>
                    </div>
                    <div class="glass-card p-6 rounded-xl hover:shadow-lg cursor-pointer transition interactive-btn" onclick="switchTab('habits')">
                        <i data-lucide="list-checks" class="w-8 h-8 mx-auto mb-2 text-yellow-400"></i>
                        <p class="font-semibold">–ü—Ä–∏–≤—ã—á–∫–∞</p>
                    </div>
                    <div class="glass-card p-6 rounded-xl hover:shadow-lg cursor-pointer transition interactive-btn">
                        <i data-lucide="moon" class="w-8 h-8 mx-auto mb-2 text-indigo-400"></i>
                        <p class="font-semibold">–°–æ–Ω (—á–∞—Å—ã)</p>
                    </div>
                    <div class="glass-card p-6 rounded-xl hover:shadow-lg cursor-pointer transition interactive-btn">
                        <i data-lucide="zap" class="w-8 h-8 mx-auto mb-2 text-red-400"></i>
                        <p class="font-semibold">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</p>
                    </div>
                </div>
            </section>

            <!-- ‚ö°Ô∏è –ù–û–í–ê–Ø –í–ö–õ–ê–î–ö–ê: –ü—Ä–∏–≤—ã—á–∫–∏/–¶–µ–ª–∏ ‚ö°Ô∏è -->
            <section id="tab-habits" class="tab-content hidden space-y-4">
                <h2 class="text-xl font-bold mb-4">–ú–æ–∏ –ü—Ä–∏–≤—ã—á–∫–∏ –∏ –¶–µ–ª–∏</h2>
                
                <div class="glass-card p-4 rounded-xl">
                    <h3 class="text-lg font-semibold mb-3 flex items-center active-nav-color">
                        <i data-lucide="target" class="w-5 h-5 mr-2"></i>
                        –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏
                    </h3>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between p-2 rounded-lg hover:bg-white/10 interactive-btn">
                            <span class="font-medium">–ú–µ–¥–∏—Ç–∞—Ü–∏—è (10 –º–∏–Ω)</span>
                            <button class="px-3 py-1 text-sm rounded-full text-white" style="background-color: var(--color-primary);">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</button>
                        </div>
                        <div class="flex items-center justify-between p-2 rounded-lg hover:bg-white/10 interactive-btn">
                            <span class="font-medium">–ü—Ä–æ—á–∏—Ç–∞—Ç—å 30 —Å—Ç—Ä–∞–Ω–∏—Ü</span>
                            <button class="px-3 py-1 text-sm rounded-full text-white bg-gray-600">–ù–∞—á–∞—Ç—å</button>
                        </div>
                        <div class="text-center mt-4">
                            <button class="text-sm font-semibold text-gray-400 hover:text-white transition interactive-btn flex items-center mx-auto" onclick="showModal('addHabitModal')">
                                <i data-lucide="plus-circle" class="w-4 h-4 mr-1"></i>
                                –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –ø—Ä–∏–≤—ã—á–∫—É
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- –í–∫–ª–∞–¥–∫–∞ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
            <section id="tab-notifications" class="tab-content hidden space-y-3">
                <h2 class="text-xl font-bold mb-4">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h2>
                
                <div class="glass-card p-4 rounded-xl flex items-start space-x-3 hover:bg-white/10 transition interactive-btn">
                    <i data-lucide="award" class="w-6 h-6 text-orange-400 mt-1"></i>
                    <div>
                        <p class="font-semibold">–ù–æ–≤–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ!</p>
                        <p class="text-sm text-gray-400">–í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ 5 —É—Ä–æ–≤–Ω—è! +50 XP.</p>
                        <span class="text-xs text-gray-500">–¢–æ–ª—å–∫–æ —á—Ç–æ</span>
                    </div>
                </div>
                
                <div class="glass-card p-4 rounded-xl flex items-start space-x-3 hover:bg-white/10 transition interactive-btn">
                    <i data-lucide="bell" class="w-6 h-6 active-nav-color mt-1"></i>
                    <div>
                        <p class="font-semibold">–¶–µ–ª—å –ø–æ –≤–æ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞</p>
                        <p class="text-sm text-gray-400">–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –≤—ã–ø–∏–ª–∏ 2500 –º–ª –≤–æ–¥—ã.</p>
                        <span class="text-xs text-gray-500">–í—á–µ—Ä–∞</span>
                    </div>
                </div>

                <div class="glass-card p-4 rounded-xl flex items-start space-x-3 hover:bg-white/10 transition interactive-btn">
                    <i data-lucide="alert-triangle" class="w-6 h-6 text-red-400 mt-1"></i>
                    <div>
                        <p class="font-semibold">–°—Ç—Ä–∏–∫ –ø–æ–¥ —É–≥—Ä–æ–∑–æ–π!</p>
                        <p class="text-sm text-gray-400">–î–æ–±–∞–≤—å—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É –ø—Ä–∏–≤—ã—á–∫—É –¥–æ –ø–æ–ª—É–Ω–æ—á–∏.</p>
                        <span class="text-xs text-gray-500">2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥</span>
                    </div>
                </div>
            </section>

        </main>

        <!-- –í–∫–ª–∞–¥–∫–∏/–ù–∞–≤–∏–≥–∞—Ü–∏—è (Bottom Navigation Bar) -->
        <footer class="fixed bottom-0 left-1/2 -translate-x-1/2 w-full max-w-md bg-transparent z-20">
            <div class="glass-card flex justify-around items-center h-16 pt-2 pb-1 rounded-t-3xl border-b-0 relative">
                
                <div id="nav-home" class="nav-item text-center cursor-pointer active-nav-color flex-1" onclick="switchTab('home')">
                    <i data-lucide="home" class="w-6 h-6 mx-auto"></i>
                    <span class="text-xs">–ì–ª–∞–≤–Ω–∞—è</span>
                </div>
                
                <div id="nav-search" class="nav-item text-center cursor-pointer text-gray-400 flex-1" onclick="switchTab('search')">
                    <i data-lucide="search" class="w-6 h-6 mx-auto"></i>
                    <span class="text-xs">–ü–æ–∏—Å–∫</span>
                </div>
                
                <!-- –ó–∞–≥–ª—É—à–∫–∞ –¥–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ -->
                <div class="w-16 h-16"></div>

                <div id="nav-notifications" class="nav-item text-center cursor-pointer text-gray-400 flex-1" onclick="switchTab('notifications')">
                    <i data-lucide="bell" class="w-6 h-6 mx-auto"></i>
                    <span class="text-xs">–£–≤–µ–¥.</span>
                </div>
                
                <div id="nav-profile" class="nav-item text-center cursor-pointer text-gray-400 flex-1" onclick="switchTab('profile')">
                    <i data-lucide="user" class="w-6 h-6 mx-auto"></i>
                    <span class="text-xs">–ü—Ä–æ—Ñ–∏–ª—å</span>
                </div>
                
                <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ '+' -->
                <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 interactive-btn" onclick="switchTab('add')">
                    <button class="nav-center-btn rounded-full flex items-center justify-center">
                        <i data-lucide="plus" class="w-8 h-8 text-white"></i>
                    </button>
                </div>
            </div>
        </footer>
    </div>
    
    <!-- –í—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ (–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ) –¥–ª—è "–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –ø—Ä–∏–≤—ã—á–∫—É" -->
    <div id="addHabitModal" class="fixed inset-0 bg-black bg-opacity-70 hidden flex items-center justify-center z-50">
        <div class="glass-card p-6 rounded-xl w-11/12 max-w-xs text-center">
            <h3 class="text-xl font-bold mb-4">–ù–æ–≤–∞—è –ü—Ä–∏–≤—ã—á–∫–∞</h3>
            <input type="text" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏ (–Ω–∞–ø—Ä., '–ë–µ–≥ 30 –º–∏–Ω')" class="w-full bg-transparent border border-gray-600 p-2 rounded mb-3 focus:outline-none focus:border-green-400">
            <select class="w-full bg-gray-800 border border-gray-600 p-2 rounded mb-4 focus:outline-none focus:border-green-400">
                <option value="daily">–ï–∂–µ–¥–Ω–µ–≤–Ω–æ</option>
                <option value="3x_week">3 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é</option>
                <option value="custom">–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–Ω–∏</option>
            </select>
            <button class="w-full py-2 rounded-lg font-semibold interactive-btn mb-2 text-white" style="background-color: var(--color-primary);" onclick="hideModal('addHabitModal')">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button class="w-full py-2 rounded-lg font-semibold interactive-btn text-gray-400 border border-gray-600 hover:border-white" onclick="hideModal('addHabitModal')">–û—Ç–º–µ–Ω–∞</button>
        </div>
    </div>


    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–∫–æ–Ω–æ–∫ Lucide
        lucide.createIcons();

        // ------------------
        // 5. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤
        // ------------------
        
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –∫–ª—é—á–∏ localStorage
        let currentWater = 0;
        let currentXP = 0;
        let userLevel = 5;
        let currentTheme = 'dark'; // –î–µ—Ñ–æ–ª—Ç–Ω–∞—è —Ç–µ–º–∞
        
        const targetWater = 2500;
        const nextLevelXP = 500;
        
        const WATER_KEY = 'vitaflow_water';
        const XP_KEY = 'vitaflow_xp';
        const LEVEL_KEY = 'vitaflow_level';
        const THEME_KEY = 'vitaflow_theme';

        const waterCurrentEl = document.getElementById('water-current');
        const waterPercentEl = document.getElementById('water-percent');
        const waterProgressEl = document.querySelector('.water-progress');
        const xpProgressBarEl = document.getElementById('xp-progress-bar');
        const currentXpEl = document.getElementById('current-xp');
        const xpToNextLevelEl = document.getElementById('xp-to-next-level');
        const bodyEl = document.body;
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã —Ö–µ–¥–µ—Ä–∞ –∏ –ø—Ä–æ—Ñ–∏–ª—è
        const userLevelEl = document.getElementById('user-level');
        const profileLevelEl = document.getElementById('profile-level');
        const currentLevelDisplayEl = document.getElementById('current-level-display');
        const nextLevelDisplayEl = document.getElementById('next-level-display');
        const currentThemeNameEl = document.getElementById('current-theme-name');
        
        /**
         * –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—É—é —Ç–µ–º—É.
         * @param {string} themeName - –ò–º—è —Ç–µ–º—ã ('dark', 'blue', 'rose').
         */
        function setTheme(themeName) {
            // –£–¥–∞–ª—è–µ–º –≤—Å–µ –∫–ª–∞—Å—Å—ã —Ç–µ–º—ã
            bodyEl.classList.remove('blue-theme', 'rose-theme');
            
            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ 'dark'
            if (themeName !== 'dark') {
                bodyEl.classList.add(`${themeName}-theme`);
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º
            currentTheme = themeName;
            localStorage.setItem(THEME_KEY, themeName);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–º—ã –≤ UI
            const themeNames = {
                'dark': '–ó–µ–ª–µ–Ω—ã–π',
                'blue': '–°–∏–Ω–∏–π',
                'rose': '–†–æ–∑–æ–≤—ã–π'
            };
            currentThemeNameEl.textContent = themeNames[themeName] || '–ó–µ–ª–µ–Ω—ã–π';

            // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JS
            updateWaterProgress();
        }

        /**
         * –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ localStorage.
         */
        function loadData() {
            try {
                const storedWater = localStorage.getItem(WATER_KEY);
                const storedXP = localStorage.getItem(XP_KEY);
                const storedLevel = localStorage.getItem(LEVEL_KEY);
                const storedTheme = localStorage.getItem(THEME_KEY);

                if (storedWater !== null) currentWater = parseInt(storedWater) || 0;
                if (storedXP !== null) currentXP = parseInt(storedXP) || 0;
                if (storedLevel !== null) userLevel = parseInt(storedLevel) || 5;
                if (storedTheme !== null) currentTheme = storedTheme;

            } catch (e) {
                console.error("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ localStorage:", e);
            }
        }
        
        /**
         * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ localStorage.
         */
        function saveData() {
            try {
                localStorage.setItem(WATER_KEY, currentWater);
                localStorage.setItem(XP_KEY, currentXP);
                localStorage.setItem(LEVEL_KEY, userLevel);
            } catch (e) {
                console.error("–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ localStorage:", e);
            }
        }


        /**
         * –û–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –≤–æ–¥—ã (–∫—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞).
         */
        function updateWaterProgress() {
            const percent = Math.min(100, (currentWater / targetWater) * 100);
            const angle = (percent / 100) * 360;
            
            waterCurrentEl.textContent = currentWater;
            waterPercentEl.textContent = `${Math.round(percent)}%`;

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ conic-gradient –¥–ª—è –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é)
            const primaryColor = getComputedStyle(document.documentElement).getPropertyValue('--color-primary').trim();
            const bgColor = getComputedStyle(document.documentElement).getPropertyValue('--color-bg-dark').trim();
            
            waterProgressEl.style.background = `conic-gradient(
                ${primaryColor} 0deg, 
                ${primaryColor} ${angle}deg, 
                ${bgColor} ${angle}deg
            )`;

            waterProgressEl.style.boxShadow = `0 0 10px ${primaryColor}4D`; // 4D = 30% opacity
            
            saveData();
        }

        /**
         * –î–æ–±–∞–≤–ª—è–µ—Ç –≤–æ–¥—É –∫ —Ç–µ–∫—É—â–µ–º—É –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—é.
         * @param {number} amount - –û–±—ä–µ–º –≤–æ–¥—ã –≤ –º–ª.
         */
        function addWater(amount) {
            currentWater += amount;
            // –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤–æ–¥—ã –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç —Ü–µ–ª–µ–≤–æ–µ (–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è XP)
            if (currentWater <= targetWater) {
                 // –°–∏–º—É–ª—è—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è XP –∑–∞ –¥–µ–π—Å—Ç–≤–∏–µ
                gainXP(5); 
            } else if (currentWater - amount < targetWater) {
                // –ï—Å–ª–∏ –º—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ –ø—Ä–µ–≤—ã—Å–∏–ª–∏ —Ü–µ–ª—å
                gainXP(15); // –ë–æ–Ω—É—Å–Ω—ã–µ XP –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ü–µ–ª–∏
            }

            updateWaterProgress();
            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ –≤–∫–ª–∞–¥–∫—É Home, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —ç—Ñ—Ñ–µ–∫—Ç
            switchTab('home');
        }

        /**
         * –û–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å XP.
         * @param {number} amount - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ XP.
         */
        function gainXP(amount) {
            currentXP += amount;

            if (currentXP >= nextLevelXP) {
                // –õ–æ–≥–∏–∫–∞ –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è
                userLevel += 1;
                currentXP = currentXP - nextLevelXP; 
                // –í –∏–¥–µ–∞–ª–µ –∑–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∞–Ω–∏–º–∞—Ü–∏—è "–ü–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è!"
            }
            
            const xpPercent = Math.min(100, (currentXP / nextLevelXP) * 100);
            xpProgressBarEl.style.width = `${xpPercent}%`;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI —É—Ä–æ–≤–Ω–µ–π
            currentXpEl.textContent = currentXP;
            xpToNextLevelEl.textContent = Math.max(0, nextLevelXP - currentXP);
            userLevelEl.textContent = userLevel;
            profileLevelEl.textContent = userLevel;
            currentLevelDisplayEl.textContent = userLevel;
            nextLevelDisplayEl.textContent = userLevel + 1;
            
            saveData();
        }

        // ------------------
        // 3.4 –í–∫–ª–∞–¥–∫–∏/–ù–∞–≤–∏–≥–∞—Ü–∏—è
        // ------------------
        
        let activeTab = 'home';
        
        /**
         * –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—É—é –≤–∫–ª–∞–¥–∫—É –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—é.
         * @param {string} tabName - –ò–º—è –≤–∫–ª–∞–¥–∫–∏ ('home', 'profile', –∏ —Ç.–¥.).
         */
        function switchTab(tabName) {
            // –ï—Å–ª–∏ –≤–∫–ª–∞–¥–∫–∞ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å, –ø—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ–º –∏–∫–æ–Ω–∫–∏
            if (activeTab === tabName) {
                lucide.createIcons(); // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –¥–ª—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
                return;
            }

            // 1. –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏ –∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            document.querySelectorAll('.tab-content').forEach(el => {
                el.classList.add('hidden');
                el.classList.remove('active-tab');
            });
            document.querySelectorAll('.nav-item').forEach(el => {
                el.classList.remove('active-nav-color');
                el.classList.add('text-gray-400');
            });

            // 2. –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∫–ª–∞–¥–∫—É
            const targetContent = document.getElementById(`tab-${tabName}`);
            if (targetContent) {
                targetContent.classList.remove('hidden');
                targetContent.classList.add('active-tab');
            }

            // 3. –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            const targetNav = document.getElementById(`nav-${tabName}`);
            if (targetNav) {
                targetNav.classList.remove('text-gray-400');
                targetNav.classList.add('active-nav-color');
            } 

            activeTab = tabName;
            lucide.createIcons();
        }
        
        /**
         * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ.
         */
        function showModal(modalId) {
            document.getElementById(modalId).classList.remove('hidden');
        }

        /**
         * –°–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ.
         */
        function hideModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
        }

        // ------------------
        // 2.3 –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞–¥–∞—é—â–∏—Ö –∑–≤—ë–∑–¥–æ—á–µ–∫
        // ------------------
        const starContainer = document.getElementById('star-container');
        const numStars = 50; 

        function generateStars() {
            for (let i = 0; i < numStars; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è, —Ä–∞–∑–º–µ—Ä –∏ —Å–∫–æ—Ä–æ—Å—Ç—å
                star.style.left = `${Math.random() * 100}vw`;
                star.style.width = `${Math.random() * 2 + 1}px`;
                star.style.height = star.style.width;
                star.style.animationDuration = `${Math.random() * 10 + 5}s`; // 5 to 15 seconds
                star.style.animationDelay = `-${Math.random() * 15}s`; // –°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞

                starContainer.appendChild(star);
            }
        }
        
        // ------------------
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        // ------------------
        window.onload = function() {
            // 1. –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
            loadData();
            
            // 2. –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é —Ç–µ–º—É
            setTheme(currentTheme); 
            
            // 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º UI –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
            updateWaterProgress();
            gainXP(0); // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å XP –±–µ–∑ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
            
            // 4. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∑–≤—ë–∑–¥–æ—á–∫–∏
            generateStars();

            // 5. –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –∏–∫–æ–Ω–∫–∏ (–≤–∞–∂–Ω–æ, —Ç.–∫. —Ü–≤–µ—Ç–∞ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ç–µ–º—ã)
            lucide.createIcons();
        };

    </script>
</body>
=======
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VitaFlow | –ú–æ–±–∏–ª—å–Ω—ã–π PWA –¢—Ä–µ–∫–µ—Ä</title>
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —à—Ä–∏—Ñ—Ç–∞ Inter –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ü–≤–µ—Ç–∞ -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        :root {
            --color-primary: #4CAF50; /* –û—Å–Ω–æ–≤–Ω–æ–π */
            --color-accent: #FF7043; /* –ê–∫—Ü–µ–Ω—Ç */
            --color-bg-dark: #0B0D11; /* –¢–µ–º–Ω—ã–π —Ñ–æ–Ω */
            --color-card-border: rgba(255, 255, 255, 0.15);
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--color-bg-dark);
            overflow: hidden; 
        }

        /* 2.3 –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω (–ì—Ä–∞–¥–∏–µ–Ω—Ç) */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background: linear-gradient(-45deg, #0B0D11, #1A1C20, #0B0D11, #1A1C20);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* 2.3 –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω (–ü–∞–¥–∞—é—â–∏–µ –∑–≤—ë–∑–¥–æ—á–∫–∏/—Å–Ω–µ–∂–∏–Ω–∫–∏) */
        .star {
            position: absolute;
            width: 3px;
            height: 3px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 50%;
            opacity: 0;
            animation: fall linear infinite;
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
        }

        @keyframes fall {
            0% { transform: translateY(-100vh); opacity: 0; }
            5% { opacity: 1; }
            95% { opacity: 1; }
            100% { transform: translateY(100vh); opacity: 0; }
        }

        /* 2.2 –ì–ª–∞–∑–æ–º–æ—Ä—Ñ–∏–∑–º (Glassmorphism) + –£—Å–∏–ª–µ–Ω–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ */
        .glass-card {
            background-color: rgba(255, 255, 255, 0.08); /* –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω */
            backdrop-filter: blur(12px); /* –†–∞–∑–º—ã—Ç–∏–µ —Ñ–æ–Ω–∞ */
            border: 1px solid var(--color-card-border); /* –°–≤–µ—Ç–ª–∞—è —Ç–æ–Ω–∫–∞—è –æ–±–≤–æ–¥–∫–∞ */
            /* –î–æ–±–∞–≤–ª—è–µ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Ç–µ–Ω—å –¥–ª—è –≥–ª—É–±–∏–Ω—ã */
            box-shadow: inset 0 0 5px rgba(255, 255, 255, 0.05), 0 4px 30px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s, opacity 0.2s;
        }

        .glass-card:hover {
            transform: scale(1.02);
        }
        
        /* 3.2.1 –ö–∞—Ä—Ç–æ—á–∫–∞ –í–æ–¥—ã - –ü—Ä–æ–≥—Ä–µ—Å—Å */
        .water-progress {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: conic-gradient(
                var(--color-primary) 0deg, 
                var(--color-primary) 0deg, 
                #1A1C20 0deg
            );
            transition: background 0.5s ease-out; /* –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è */
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.4);
        }
        
        /* 3.4 –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ '+' - –ò–¥–µ–∞–ª—å–Ω–æ–µ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤—ã—Å—Ç—É–ø */
        .nav-center-btn {
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, var(--color-primary), #388E3C);
            box-shadow: 0 4px 20px rgba(76, 175, 80, 0.7); /* –£—Å–∏–ª–µ–Ω–Ω–∞—è —Ç–µ–Ω—å */
            transition: transform 0.2s;
        }
        
        /* –°–∏–º—É–ª—è—Ü–∏—è –¢–∞–∫—Ç–∏–ª—å–Ω–æ–≥–æ –û—Ç–∫–ª–∏–∫–∞ (Haptic Feedback) */
        .interactive-btn:active, .nav-item:active {
            transform: scale(0.95); /* –ë—ã—Å—Ç—Ä–æ–µ —Å–∂–∞—Ç–∏–µ */
            opacity: 0.8;
            transition: transform 0.1s, opacity 0.1s;
        }

        .nav-item {
            transition: opacity 0.2s, color 0.2s;
        }
        
        /* –°—Ç–∏–ª—å –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏ */
        .active-tab {
            display: block;
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏–∫–æ–Ω–æ–∫ Lucide -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body class="text-white">
    <!-- 2.3 –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω: –ì—Ä–∞–¥–∏–µ–Ω—Ç -->
    <div class="animated-bg"></div>
    
    <!-- 2.3 –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω: –ü–∞–¥–∞—é—â–∏–µ –∑–≤—ë–∑–¥–æ—á–∫–∏ (–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤ JS) -->
    <div id="star-container" class="pointer-events-none fixed inset-0 overflow-hidden z-0"></div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä PWA (–ú–æ–±–∏–ª—å–Ω—ã–π –≤–∏–¥) -->
    <div class="relative max-w-md mx-auto h-screen bg-transparent flex flex-col pt-4 pb-20">
        
        <!-- 3.1 –í–µ—Ä—Ö–Ω–∏–π –±–ª–æ–∫ (–•–µ–¥–µ—Ä) -->
        <header id="app-header" class="px-6 py-4 flex justify-between items-center z-10 transition-all duration-300">
            <div class="flex items-center space-x-2">
                <h1 class="text-2xl font-extrabold tracking-tight text-white">VitaFlow</h1>
            </div>
            <div class="flex items-center space-x-4">
                <div class="text-right">
                    <span class="text-xs font-semibold text-gray-400 block">–°—Ç—Ä–∏–∫: <span id="user-streak" class="text-orange-300">7</span> üî•</span>
                    <span class="text-sm font-bold block">–£—Ä. <span id="user-level" class="text-green-400">5</span></span>
                </div>
                <!-- –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –ê–≤–∞—Ç–∞—Ä -->
                <div class="w-10 h-10 bg-gray-600 rounded-full flex items-center justify-center border-2 border-gray-400 cursor-pointer hover:border-green-400 transition interactive-btn" onclick="switchTab('profile')">
                    <i data-lucide="user" class="w-5 h-5 text-gray-200"></i>
                </div>
            </div>
        </header>

        <!-- 3.2 –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω (–ö–æ–Ω—Ç–µ–Ω—Ç –≤–∫–ª–∞–¥–æ–∫) -->
        <main class="flex-grow overflow-y-auto px-4 pb-4 z-10">
            
            <!-- 3.2.0 –í–∫–ª–∞–¥–∫–∞ Home/–î–∞—à–±–æ—Ä–¥ -->
            <section id="tab-home" class="tab-content active-tab space-y-4">
                <h2 class="text-xl font-bold mb-4">–î–∞—à–±–æ—Ä–¥</h2>

                <!-- 3.2.1 –ö–∞—Ä—Ç–æ—á–∫–∞ –í–æ–¥—ã -->
                <div class="glass-card p-4 rounded-xl flex items-center justify-between">
                    <div>
                        <h3 class="text-lg font-semibold mb-1 flex items-center">
                            <i data-lucide="droplet" class="w-5 h-5 mr-2 text-blue-400"></i>
                            –í–æ–¥–∞
                        </h3>
                        <p class="text-3xl font-extrabold" id="water-current">0</p>
                        <p class="text-sm text-gray-400">–∏–∑ <span id="water-target">2500</span> –º–ª</p>
                    </div>
                    
                    <div class="flex items-center space-x-3">
                        <!-- –ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ (conic-gradient) -->
                        <div class="water-progress p-2 flex items-center justify-center">
                            <div class="w-full h-full bg-[#1A1C20] rounded-full flex items-center justify-center">
                                <span id="water-percent" class="text-sm font-bold text-green-400">0%</span>
                            </div>
                        </div>

                        <!-- –ö–Ω–æ–ø–∫–∏ –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
                        <div class="flex flex-col space-y-2">
                            <button onclick="addWater(250)" class="glass-card text-sm font-semibold px-3 py-1 rounded-full bg-green-500/20 hover:bg-green-500/30 transition duration-150 interactive-btn">
                                +250 –º–ª
                            </button>
                            <button onclick="addWater(500)" class="glass-card text-sm font-semibold px-3 py-1 rounded-full bg-green-500/20 hover:bg-green-500/30 transition duration-150 interactive-btn">
                                +500 –º–ª
                            </button>
                        </div>
                    </div>
                </div>

                <!-- 3.2.2 –ú–∏–Ω–∏-–ø–ª–∏—Ç–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è -->
                <div class="grid grid-cols-3 gap-3">
                    <!-- –®–∞–≥–∏ -->
                    <div class="glass-card p-3 rounded-lg text-center hover:shadow-lg transition interactive-btn">
                        <i data-lucide="footprints" class="w-6 h-6 mx-auto text-yellow-400 mb-1"></i>
                        <p class="text-xl font-bold">4.5K</p>
                        <p class="text-xs text-gray-400">–®–∞–≥–∏</p>
                    </div>
                    <!-- –ü—É–ª—å—Å -->
                    <div class="glass-card p-3 rounded-lg text-center hover:shadow-lg transition interactive-btn">
                        <i data-lucide="heart-pulse" class="w-6 h-6 mx-auto text-red-500 mb-1"></i>
                        <p class="text-xl font-bold">68</p>
                        <p class="text-xs text-gray-400">–ü—É–ª—å—Å</p>
                    </div>
                    <!-- –°–æ–Ω -->
                    <div class="glass-card p-3 rounded-lg text-center hover:shadow-lg transition interactive-btn">
                        <i data-lucide="moon" class="w-6 h-6 mx-auto text-indigo-400 mb-1"></i>
                        <p class="text-xl font-bold">7.2—á</p>
                        <p class="text-xs text-gray-400">–°–æ–Ω</p>
                    </div>
                </div>

                <!-- 3.2.3 XP –∏ —É—Ä–æ–≤–Ω–∏ -->
                <div class="glass-card p-4 rounded-xl">
                    <div class="flex justify-between items-end mb-2">
                        <span class="text-sm font-semibold">XP: <span id="current-xp">0</span> / <span id="next-level-xp">500</span></span>
                        <span class="text-xs text-gray-400">–£—Ä–æ–≤–µ–Ω—å 5 ‚Üí 6</span>
                    </div>
                    <div class="w-full bg-gray-700 rounded-full h-3">
                        <div id="xp-progress-bar" class="h-3 rounded-full" style="width: 0%; background-color: var(--color-accent); transition: width 0.5s ease-out;"></div>
                    </div>
                    <p class="text-xs text-gray-500 mt-2">–ï—â—ë <span id="xp-to-next-level">500</span> XP –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è!</p>
                </div>

                <!-- 3.2.4 –ì—Ä–∞—Ñ–∏–∫ –≤–æ–¥—ã (–í–∏–∑—É–∞–ª—å–Ω–æ –±–æ–ª–µ–µ –≥–ª–∞–¥–∫–∏–π) -->
                <div class="glass-card p-4 rounded-xl">
                    <h3 class="text-lg font-semibold mb-3">–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –≤–æ–¥—ã (–ù–µ–¥–µ–ª—è)</h3>
                    <!-- –°–µ—Ç–∫–∞ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞ -->
                    <div class="flex justify-between items-end h-32 pt-2 space-x-2 relative">
                        <!-- –õ–∏–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞ (–°–∏–º—É–ª—è—Ü–∏—è) -->
                        <div class="absolute inset-0 pt-2 pointer-events-none">
                            <svg width="100%" height="100%" viewBox="0 0 100 100" preserveAspectRatio="none" class="opacity-30">
                                <!-- –ü—Ä–∏–º–µ—Ä –ø–æ–ª–∏–ª–∏–Ω–∏–∏, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–π –ø–ª–∞–≤–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ -->
                                <polyline fill="none" stroke="#2563EB" stroke-width="2" points="5,80 19,40 33,65 47,50 61,90 75,55 90,70" />
                            </svg>
                        </div>

                        <!-- –≠–ª–µ–º–µ–Ω—Ç—ã –≥—Ä–∞—Ñ–∏–∫–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ–º data-value –¥–ª—è JS –ø–æ–¥—Å–∫–∞–∑–æ–∫) -->
                        <!-- –ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç - —ç—Ç–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Ç–æ—á–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–æ—á–∫–µ –Ω–∞ –ª–∏–Ω–∏–∏ -->
                        <div class="flex-1 text-center group cursor-pointer h-full flex flex-col justify-end items-center relative z-10" data-value="1500" data-day="–ü–Ω">
                            <div class="w-3 h-3 rounded-full bg-blue-400 ring-2 ring-blue-700 mb-1 opacity-0 group-hover:opacity-100 transition"></div>
                            <span class="absolute -top-6 text-xs opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 p-1 rounded whitespace-nowrap">1500 –º–ª</span>
                            <span class="text-xs mt-1 block text-gray-400">–ü–Ω</span>
                        </div>
                         <div class="flex-1 text-center group cursor-pointer h-full flex flex-col justify-end items-center relative z-10" data-value="2800" data-day="–í—Ç">
                            <div class="w-3 h-3 rounded-full bg-blue-400 ring-2 ring-blue-700 mb-1 opacity-0 group-hover:opacity-100 transition"></div>
                            <span class="absolute -top-6 text-xs opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 p-1 rounded whitespace-nowrap">2800 –º–ª</span>
                            <span class="text-xs mt-1 block text-gray-400">–í—Ç</span>
                        </div>
                        <div class="flex-1 text-center group cursor-pointer h-full flex flex-col justify-end items-center relative z-10" data-value="2000" data-day="–°—Ä">
                            <div class="w-3 h-3 rounded-full bg-blue-400 ring-2 ring-blue-700 mb-1 opacity-0 group-hover:opacity-100 transition"></div>
                            <span class="absolute -top-6 text-xs opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 p-1 rounded whitespace-nowrap">2000 –º–ª</span>
                            <span class="text-xs mt-1 block text-gray-400">–°—Ä</span>
                        </div>
                        <div class="flex-1 text-center group cursor-pointer h-full flex flex-col justify-end items-center relative z-10" data-value="2500" data-day="–ß—Ç">
                            <div class="w-3 h-3 rounded-full bg-blue-400 ring-2 ring-blue-700 mb-1 opacity-0 group-hover:opacity-100 transition"></div>
                            <span class="absolute -top-6 text-xs opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 p-1 rounded whitespace-nowrap">2500 –º–ª</span>
                            <span class="text-xs mt-1 block text-gray-400">–ß—Ç</span>
                        </div>
                        <div class="flex-1 text-center group cursor-pointer h-full flex flex-col justify-end items-center relative z-10" data-value="1000" data-day="–ü—Ç">
                            <div class="w-3 h-3 rounded-full bg-blue-400 ring-2 ring-blue-700 mb-1 opacity-0 group-hover:opacity-100 transition"></div>
                            <span class="absolute -top-6 text-xs opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 p-1 rounded whitespace-nowrap">1000 –º–ª</span>
                            <span class="text-xs mt-1 block text-gray-400">–ü—Ç</span>
                        </div>
                        <div class="flex-1 text-center group cursor-pointer h-full flex flex-col justify-end items-center relative z-10" data-value="2200" data-day="–°–±">
                            <div class="w-3 h-3 rounded-full bg-blue-400 ring-2 ring-blue-700 mb-1 opacity-0 group-hover:opacity-100 transition"></div>
                            <span class="absolute -top-6 text-xs opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 p-1 rounded whitespace-nowrap">2200 –º–ª</span>
                            <span class="text-xs mt-1 block text-gray-400">–°–±</span>
                        </div>
                        <div class="flex-1 text-center group cursor-pointer h-full flex flex-col justify-end items-center relative z-10" data-value="1800" data-day="–í—Å">
                            <div class="w-3 h-3 rounded-full bg-blue-400 ring-2 ring-blue-700 mb-1 opacity-0 group-hover:opacity-100 transition"></div>
                            <span class="absolute -top-6 text-xs opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 p-1 rounded whitespace-nowrap">1800 –º–ª</span>
                            <span class="text-xs mt-1 block text-gray-400">–í—Å</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 3.3 –í–∫–ª–∞–¥–∫–∞ –ü—Ä–æ—Ñ–∏–ª—å -->
            <section id="tab-profile" class="tab-content hidden space-y-4">
                <h2 class="text-xl font-bold mb-4">–ú–æ–π –ü—Ä–æ—Ñ–∏–ª—å</h2>
                
                <div class="glass-card p-6 rounded-xl text-center">
                    <div class="w-20 h-20 bg-gray-600 rounded-full mx-auto flex items-center justify-center border-4 border-green-400 mb-3">
                        <i data-lucide="user-check" class="w-10 h-10 text-gray-200"></i>
                    </div>
                    <p class="text-2xl font-bold">–ê–∫—Ç–∏–≤–Ω—ã–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</p>
                    <p class="text-sm text-gray-400">–£—Ä–æ–≤–µ–Ω—å <span id="profile-level">5</span> | <span id="profile-streak">7</span>-–¥–Ω–µ–≤–Ω—ã–π –°—Ç—Ä–∏–∫ üî•</p>
                </div>

                <div class="glass-card p-4 rounded-xl">
                    <h3 class="text-lg font-semibold mb-2">–û–±–∑–æ—Ä –ó–¥–æ—Ä–æ–≤—å—è</h3>
                    <div class="space-y-2">
                        <!-- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø–ª–∏—Ç–∫–∏ -->
                        <div class="flex justify-between items-center text-sm">
                            <span class="flex items-center"><i data-lucide="footprints" class="w-4 h-4 mr-2 text-yellow-400"></i> –®–∞–≥–∏:</span>
                            <span class="font-bold">–°—Ä–µ–¥–Ω–µ–µ 6,120 / –¶–µ–ª—å 8,000</span>
                        </div>
                        <div class="flex justify-between items-center text-sm">
                            <span class="flex items-center"><i data-lucide="moon" class="w-4 h-4 mr-2 text-indigo-400"></i> –°–æ–Ω:</span>
                            <span class="font-bold">–°—Ä–µ–¥–Ω–µ–µ 7 —á 15 –º–∏–Ω</span>
                        </div>
                        <div class="flex justify-between items-center text-sm">
                            <span class="flex items-center"><i data-lucide="flame" class="w-4 h-4 mr-2 text-red-400"></i> –ö–∞–ª–æ—Ä–∏–∏:</span>
                            <span class="font-bold">–°—Ä–µ–¥–Ω–µ–µ 2,100 –∫–∫–∞–ª</span>
                        </div>
                    </div>
                </div>

                <div class="glass-card p-4 rounded-xl">
                    <h3 class="text-lg font-semibold mb-2">–û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>
                    <p class="text-sm text-gray-300">
                        –¶–µ–ª—å: –ü—Ä–æ–±–µ–∂–∞—Ç—å –ø–æ–ª—É–º–∞—Ä–∞—Ñ–æ–Ω. <br>
                        –ü—Ä–∏–≤—ã—á–∫–∏: –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –º–µ–¥–∏—Ç–∞—Ü–∏—è (10 –º–∏–Ω), —á—Ç–µ–Ω–∏–µ 30 —Å—Ç—Ä–∞–Ω–∏—Ü. <br>
                        –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è: –ü—Ä–æ—à–µ–ª 10,000 —à–∞–≥–æ–≤ 5 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥.
                    </p>
                </div>
            </section>
            
            <!-- 3.5 –í–∫–ª–∞–¥–∫–∞ –ü–æ–∏—Å–∫ -->
            <section id="tab-search" class="tab-content hidden space-y-4">
                <h2 class="text-xl font-bold mb-4">–ü–æ–∏—Å–∫ –∏ –≠–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è</h2>
                <div class="glass-card p-2 rounded-xl flex items-center">
                    <i data-lucide="search" class="w-5 h-5 ml-2 text-gray-400"></i>
                    <input type="text" placeholder="–ò—â–∏—Ç–µ —Å–æ–≤–µ—Ç—ã –ø–æ –∑–¥–æ—Ä–æ–≤—å—é –∏–ª–∏ –ø—Ä–∏–≤—ã—á–∫–∏..." class="w-full bg-transparent p-2 focus:outline-none placeholder-gray-400 text-sm">
                </div>

                <div class="space-y-3">
                    <h3 class="text-md font-semibold text-gray-300">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã</h3>
                    <div class="glass-card p-3 rounded-xl hover:bg-white/10 transition interactive-btn">
                        <p class="font-semibold">5 —Å–ø–æ—Å–æ–±–æ–≤ —É–ª—É—á—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ —Å–Ω–∞</p>
                        <p class="text-xs text-gray-400">–≠–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è | –°–æ–Ω</p>
                    </div>
                    <div class="glass-card p-3 rounded-xl hover:bg-white/10 transition interactive-btn">
                        <p class="font-semibold">–†–∞—Å—á—ë—Ç –¥–Ω–µ–≤–Ω–æ–π –Ω–æ—Ä–º—ã –≤–æ–¥—ã</p>
                        <p class="text-xs text-gray-400">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã | –í–æ–¥–∞</p>
                    </div>
                </div>
            </section>

            <!-- 3.6 –í–∫–ª–∞–¥–∫–∞ –î–æ–±–∞–≤–∏—Ç—å -->
            <section id="tab-add" class="tab-content hidden space-y-4 text-center">
                <h2 class="text-xl font-bold mb-6">–ß—Ç–æ –¥–æ–±–∞–≤–∏–º?</h2>

                <div class="grid grid-cols-2 gap-4">
                    <div class="glass-card p-6 rounded-xl hover:bg-green-500/20 cursor-pointer transition interactive-btn" onclick="addWater(250)">
                        <i data-lucide="droplet" class="w-8 h-8 mx-auto mb-2 text-blue-400"></i>
                        <p class="font-semibold">–í–æ–¥–∞ (+250 –º–ª)</p>
                    </div>
                    <div class="glass-card p-6 rounded-xl hover:bg-green-500/20 cursor-pointer transition interactive-btn">
                        <i data-lucide="footprints" class="w-8 h-8 mx-auto mb-2 text-yellow-400"></i>
                        <p class="font-semibold">–®–∞–≥–∏</p>
                    </div>
                    <div class="glass-card p-6 rounded-xl hover:bg-green-500/20 cursor-pointer transition interactive-btn">
                        <i data-lucide="moon" class="w-8 h-8 mx-auto mb-2 text-indigo-400"></i>
                        <p class="font-semibold">–°–æ–Ω (—á–∞—Å—ã)</p>
                    </div>
                    <div class="glass-card p-6 rounded-xl hover:bg-green-500/20 cursor-pointer transition interactive-btn">
                        <i data-lucide="bell" class="w-8 h-8 mx-auto mb-2 text-red-400"></i>
                        <p class="font-semibold">–ó–∞–º–µ—Ç–∫–∞ / –ü—Ä–∏–≤—ã—á–∫–∞</p>
                    </div>
                </div>
            </section>

            <!-- 3.7 –í–∫–ª–∞–¥–∫–∞ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
            <section id="tab-notifications" class="tab-content hidden space-y-3">
                <h2 class="text-xl font-bold mb-4">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h2>
                
                <div class="glass-card p-4 rounded-xl flex items-start space-x-3 hover:bg-white/10 transition interactive-btn">
                    <i data-lucide="award" class="w-6 h-6 text-orange-400 mt-1"></i>
                    <div>
                        <p class="font-semibold">–ù–æ–≤–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ!</p>
                        <p class="text-sm text-gray-400">–í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ 5 —É—Ä–æ–≤–Ω—è! +50 XP.</p>
                        <span class="text-xs text-gray-500">–¢–æ–ª—å–∫–æ —á—Ç–æ</span>
                    </div>
                </div>
                
                <div class="glass-card p-4 rounded-xl flex items-start space-x-3 hover:bg-white/10 transition interactive-btn">
                    <i data-lucide="bell" class="w-6 h-6 text-green-400 mt-1"></i>
                    <div>
                        <p class="font-semibold">–¶–µ–ª—å –ø–æ –≤–æ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞</p>
                        <p class="text-sm text-gray-400">–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –≤—ã–ø–∏–ª–∏ 2500 –º–ª –≤–æ–¥—ã.</p>
                        <span class="text-xs text-gray-500">–í—á–µ—Ä–∞</span>
                    </div>
                </div>

                <div class="glass-card p-4 rounded-xl flex items-start space-x-3 hover:bg-white/10 transition interactive-btn">
                    <i data-lucide="alert-triangle" class="w-6 h-6 text-red-400 mt-1"></i>
                    <div>
                        <p class="font-semibold">–°—Ç—Ä–∏–∫ –ø–æ–¥ —É–≥—Ä–æ–∑–æ–π!</p>
                        <p class="text-sm text-gray-400">–î–æ–±–∞–≤—å—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É –ø—Ä–∏–≤—ã—á–∫—É –¥–æ –ø–æ–ª—É–Ω–æ—á–∏.</p>
                        <span class="text-xs text-gray-500">2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥</span>
                    </div>
                </div>
            </section>

        </main>

        <!-- 3.4 –í–∫–ª–∞–¥–∫–∏/–ù–∞–≤–∏–≥–∞—Ü–∏—è (Bottom Navigation Bar) -->
        <footer class="fixed bottom-0 left-1/2 -translate-x-1/2 w-full max-w-md bg-transparent z-20">
            <div class="glass-card flex justify-around items-center h-16 pt-2 pb-1 rounded-t-3xl border-b-0 relative">
                
                <div id="nav-home" class="nav-item text-center cursor-pointer text-green-400 flex-1" onclick="switchTab('home')">
                    <i data-lucide="home" class="w-6 h-6 mx-auto"></i>
                    <span class="text-xs">–ì–ª–∞–≤–Ω–∞—è</span>
                </div>
                
                <div id="nav-search" class="nav-item text-center cursor-pointer text-gray-400 flex-1" onclick="switchTab('search')">
                    <i data-lucide="search" class="w-6 h-6 mx-auto"></i>
                    <span class="text-xs">–ü–æ–∏—Å–∫</span>
                </div>
                
                <!-- –ó–∞–≥–ª—É—à–∫–∞ –¥–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ -->
                <div class="w-16 h-16"></div>

                <div id="nav-notifications" class="nav-item text-center cursor-pointer text-gray-400 flex-1" onclick="switchTab('notifications')">
                    <i data-lucide="bell" class="w-6 h-6 mx-auto"></i>
                    <span class="text-xs">–£–≤–µ–¥.</span>
                </div>
                
                <div id="nav-profile" class="nav-item text-center cursor-pointer text-gray-400 flex-1" onclick="switchTab('profile')">
                    <i data-lucide="user" class="w-6 h-6 mx-auto"></i>
                    <span class="text-xs">–ü—Ä–æ—Ñ–∏–ª—å</span>
                </div>
                
                <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ '+' (–ê–±—Å–æ–ª—é—Ç–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è) -->
                <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 interactive-btn" onclick="switchTab('add')">
                    <button class="nav-center-btn rounded-full flex items-center justify-center">
                        <i data-lucide="plus" class="w-8 h-8 text-white"></i>
                    </button>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–∫–æ–Ω–æ–∫ Lucide
        lucide.createIcons();

        // ------------------
        // 5. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤
        // ------------------
        
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –∫–ª—é—á–∏ localStorage
        let currentWater = 0;
        let currentXP = 0;
        let userLevel = 5;
        const targetWater = 2500;
        const nextLevelXP = 500;
        const WATER_KEY = 'vitaflow_water';
        const XP_KEY = 'vitaflow_xp';
        const LEVEL_KEY = 'vitaflow_level';


        const waterCurrentEl = document.getElementById('water-current');
        const waterPercentEl = document.getElementById('water-percent');
        const waterProgressEl = document.querySelector('.water-progress');
        const xpProgressBarEl = document.getElementById('xp-progress-bar');
        const currentXpEl = document.getElementById('current-xp');
        const xpToNextLevelEl = document.getElementById('xp-to-next-level');
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã —Ö–µ–¥–µ—Ä–∞ –∏ –ø—Ä–æ—Ñ–∏–ª—è
        const userLevelEl = document.getElementById('user-level');
        const profileLevelEl = document.getElementById('profile-level');
        
        /**
         * –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ localStorage.
         */
        function loadData() {
            try {
                const storedWater = localStorage.getItem(WATER_KEY);
                const storedXP = localStorage.getItem(XP_KEY);
                const storedLevel = localStorage.getItem(LEVEL_KEY);

                if (storedWater !== null) currentWater = parseInt(storedWater) || 0;
                if (storedXP !== null) currentXP = parseInt(storedXP) || 0;
                if (storedLevel !== null) userLevel = parseInt(storedLevel) || 5;

            } catch (e) {
                console.error("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ localStorage:", e);
            }
        }
        
        /**
         * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ localStorage.
         */
        function saveData() {
            try {
                localStorage.setItem(WATER_KEY, currentWater);
                localStorage.setItem(XP_KEY, currentXP);
                localStorage.setItem(LEVEL_KEY, userLevel);
            } catch (e) {
                console.error("–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ localStorage:", e);
            }
        }


        /**
         * –û–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –≤–æ–¥—ã (–∫—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞).
         */
        function updateWaterProgress() {
            const percent = Math.min(100, (currentWater / targetWater) * 100);
            const angle = (percent / 100) * 360;
            
            waterCurrentEl.textContent = currentWater;
            waterPercentEl.textContent = `${Math.round(percent)}%`;

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ conic-gradient –¥–ª—è –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã
            waterProgressEl.style.background = `conic-gradient(
                var(--color-primary) 0deg, 
                var(--color-primary) ${angle}deg, 
                #1A1C20 ${angle}deg
            )`;
            
            saveData();
        }

        /**
         * –î–æ–±–∞–≤–ª—è–µ—Ç –≤–æ–¥—É –∫ —Ç–µ–∫—É—â–µ–º—É –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—é.
         * @param {number} amount - –û–±—ä–µ–º –≤–æ–¥—ã –≤ –º–ª.
         */
        function addWater(amount) {
            currentWater += amount;
            // –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤–æ–¥—ã –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç —Ü–µ–ª–µ–≤–æ–µ (–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è XP)
            if (currentWater <= targetWater) {
                 // –°–∏–º—É–ª—è—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è XP –∑–∞ –¥–µ–π—Å—Ç–≤–∏–µ
                gainXP(5); 
            } else if (currentWater - amount < targetWater) {
                // –ï—Å–ª–∏ –º—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ –ø—Ä–µ–≤—ã—Å–∏–ª–∏ —Ü–µ–ª—å
                gainXP(15); // –ë–æ–Ω—É—Å–Ω—ã–µ XP –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ü–µ–ª–∏
            }

            updateWaterProgress();
            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ –≤–∫–ª–∞–¥–∫—É Home, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —ç—Ñ—Ñ–µ–∫—Ç
            switchTab('home');
        }

        /**
         * –û–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å XP.
         * @param {number} amount - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ XP.
         */
        function gainXP(amount) {
            currentXP += amount;

            if (currentXP >= nextLevelXP) {
                // –õ–æ–≥–∏–∫–∞ –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è
                userLevel += 1;
                currentXP = currentXP - nextLevelXP; 
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ UI —É—Ä–æ–≤–Ω—è
                userLevelEl.textContent = userLevel;
                profileLevelEl.textContent = userLevel;
                // –í –∏–¥–µ–∞–ª–µ –∑–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∞–Ω–∏–º–∞—Ü–∏—è "–ü–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è!"
            }
            
            const xpPercent = Math.min(100, (currentXP / nextLevelXP) * 100);
            xpProgressBarEl.style.width = `${xpPercent}%`;
            currentXpEl.textContent = currentXP;
            xpToNextLevelEl.textContent = Math.max(0, nextLevelXP - currentXP);
            
            saveData();
        }

        // ------------------
        // 3.4 –í–∫–ª–∞–¥–∫–∏/–ù–∞–≤–∏–≥–∞—Ü–∏—è
        // ------------------
        
        let activeTab = 'home';
        
        /**
         * –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—É—é –≤–∫–ª–∞–¥–∫—É –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—é.
         * @param {string} tabName - –ò–º—è –≤–∫–ª–∞–¥–∫–∏ ('home', 'profile', –∏ —Ç.–¥.).
         */
        function switchTab(tabName) {
            if (activeTab === tabName) return;

            // 1. –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏ –∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            document.querySelectorAll('.tab-content').forEach(el => {
                el.classList.add('hidden');
                el.classList.remove('active-tab');
            });
            document.querySelectorAll('.nav-item').forEach(el => {
                el.classList.remove('text-green-400');
                el.classList.add('text-gray-400');
            });

            // 2. –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∫–ª–∞–¥–∫—É
            const targetContent = document.getElementById(`tab-${tabName}`);
            if (targetContent) {
                targetContent.classList.remove('hidden');
                targetContent.classList.add('active-tab');
            }

            // 3. –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            const targetNav = document.getElementById(`nav-${tabName}`);
            if (targetNav) {
                targetNav.classList.remove('text-gray-400');
                targetNav.classList.add('text-green-400');
            } 

            activeTab = tabName;
        }

        // ------------------
        // 2.3 –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞–¥–∞—é—â–∏—Ö –∑–≤—ë–∑–¥–æ—á–µ–∫
        // ------------------
        const starContainer = document.getElementById('star-container');
        const numStars = 50; 

        function generateStars() {
            for (let i = 0; i < numStars; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è, —Ä–∞–∑–º–µ—Ä –∏ —Å–∫–æ—Ä–æ—Å—Ç—å
                star.style.left = `${Math.random() * 100}vw`;
                star.style.width = `${Math.random() * 2 + 1}px`;
                star.style.height = star.style.width;
                star.style.animationDuration = `${Math.random() * 10 + 5}s`; // 5 to 15 seconds
                star.style.animationDelay = `-${Math.random() * 15}s`; // –°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞

                starContainer.appendChild(star);
            }
        }
        
        // ------------------
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        // ------------------
        window.onload = function() {
            // 1. –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
            loadData();
            
            // 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º UI –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
            updateWaterProgress();
            gainXP(0); // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å XP –±–µ–∑ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
            
            // 3. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∑–≤—ë–∑–¥–æ—á–∫–∏
            generateStars();

            // 4. –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –∏–∫–æ–Ω–∫–∏
            lucide.createIcons();
            
            // 5. –û–±–Ω–æ–≤–ª—è–µ–º —É—Ä–æ–≤–µ–Ω—å –≤ —Ö–µ–¥–µ—Ä–µ
            userLevelEl.textContent = userLevel;
        };

    </script>
</body>
>>>>>>> 6010ffcb5167eb55d85f3af836eb794f90aeaa9e
</html>